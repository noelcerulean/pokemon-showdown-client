{"version":3,"sources":["../src/battle-animations.ts"],"names":["BattleScene","battle","$frame","$logFrame","animating","acceleration","gen","mod","activeCount","numericId","$battle","$options","log","$terrain","$weather","$bgEffect","$bg","$sprite","$sprites","$spritesFront","$stat","$fx","$leftbar","$rightbar","$turn","$messagebar","$delay","$hiddenMessage","$tooltips","tooltips","sideConditions","preloadDone","preloadNeeded","bgm","backdropImage","bgmNum","preloadCache","messagebarOpen","customControls","interruptionCount","curWeather","curTerrain","timeOffset","pokemonTimeOffset","minDelay","activeAnimations","$","addClass","BattleLog","battleParser","pokemonName","pokemonId","ignoreNicks","ignoreOpponent","pokemon","getPokemon","speciesForme","startsWith","charAt","slice","trim","id","parseInt","lastIndexOf","includes","Math","floor","random","BattleTooltips","listen","preloadEffects","reset","updateGen","elem","prepend","empty","append","Dex","resourcePrefix","perspective","mySide","sideid","resetSides","animationOff","stopAnimation","css","opacity","height","find","finish","animationOn","fx","off","remove","updateSidebars","sides","side","sprite","updateWeather","resetTurn","resetSideConditions","pause","updateBgm","turn","click","setMute","play","resume","wait","time","addSprite","$el","isFrontSprite","showEffect","effect","start","end","transition","after","BattleEffects","scale","xscale","yscale","startpos","pos","endpos","posT","$effect","url","children","last","delay","animate","endendpos","waitFor","backgroundEffect","bg","duration","background","display","loc","obj","x","y","z","left","top","width","w","h","hoffset","oldLoc","oldPos","transitionMap","add","startAnimations","finishAnimations","max","length","undefined","promise","preemptCatchup","message","addSpacer","messageFadeTime","hardcoreMode","$message","html","appendTo","maybeCloseMessagebar","args","kwArgs","sectionBreak","closeMessagebar","messageShownTime","runMoveAnim","moveid","participants","animEntry","BattleMoveAnims","targetsSelf","isSpecial","dex","moves","get","category","BattleOtherAnims","anim","map","p","runOtherAnim","runStatusAnim","BattleStatusAnims","runResidualAnim","residualAnim","runPrepareAnim","attacker","defender","moveAnim","prepareAnim","prefs","nearSide","active","isSPL","rated","setBgm","BattleBackdropsThree","BattleBackdropsFour","BattleBackdropsFive","BattleBackdrops","getDetailsText","name","isFar","fainted","statustext","hp","maxhp","Pokemon","getHPText","status","escapeHTML","getSidebarHTML","posStr","noShow","speciesOverage","speciesClause","Infinity","totalPokemon","sidebarIcons","speciesTable","zoroarkRevealed","hasIllusion","i","species","getBaseSpecies","baseSpecies","sidebarIcon","push","pokemonhtml","iconType","pokeIndex","poke","tooltipCode","n","getPokemonIcon","ident","teamPreviewCount","details","ratinghtml","rating","faded","resolveAvatar","avatar","updateSidebar","gameType","updateLeftSidebar","updateRightSidebar","ally","side2","farSide","updateStatbars","updateStatbar","skipEmpty","$spritesContainer","missedPokemon","destroy","PokemonSprite","leftof","isMissedPokemon","rebuildTooltips","tooltipBuf","p2b","tooltip","p2a","p1a","p1b","p2c","p1c","layout","teamPreview","newBGNum","siden","spriteIndex","sidesSwitched","textBuf","buf","buf2","ludicoloCount","lombreCount","spriteData","getSpriteData","noScale","gender","toLowerCase","level","item","addDiv","showJoinButtons","joinButtons","ended","p1","p2","hideJoinButtons","pseudoWeatherLeft","pWeather","sideConditionLeft","cond","isFoe","all","weatherLeft","weatherhtml","weather","weatherNameTable","sunnyday","desolateland","raindance","primordialsea","sandstorm","hail","miasma","shadowsky","deltastream","weatherMinTimeLeft","weatherTimeLeft","nullifyWeather","abilityActive","pseudoWeather","sideConditionsLeft","upkeepWeather","isIntense","instant","terrain","pseudoWeatherData","pwid","toID","attr","incrementTurn","$prevTurn","$newTurn","updateAcceleration","turnsSinceMoved","min","addPokemonSprite","addSideCondition","auroraveil","Sprite","behind","reflect","safeguard","lightscreen","mist","rock1","rock2","rock3","rock4","surge1","greenmetal1","surge2","greenmetal2","surge3","spikeArray","levels","spike1","caltrop","spike2","spike3","tspikeArray","tspikeLevels","tspike1","poisoncaltrop","tspike2","web","removeSideCondition","typeAnim","types","result","split","type","join","resultAnim","abilityActivateAnim","damageAnim","damage","$statbar","updateHPText","$hp","hpWidth","hpcolor","getHPColor","callback","healAnim","removeClass","removeEffect","addEffect","animSummon","slot","animUnsummon","animDragIn","animDragOut","updatePrevhp","updateHp","updateStatbarIfExists","animTransform","isCustomAnim","isPermanent","clearEffects","removeTransform","animFaint","animReset","beforeMove","afterMove","setFrameHTML","setControlsHTML","$controls","parent","preloadImage","token","replace","Image","onload","src","rollBgm","BattleSound","loadBgm","nowPlaying","paused","resetBgm","stop","ratio","scene","sp","rawHTML","pixelated","forme","cryurl","subsp","$sub","isSubActive","oldsp","statbarLeft","statbarTop","effects","behindx","offset","behindy","animSub","noAnim","animSubFade","done","removeSub","volatiles","formechange","dynamax","$newEl","isActive","recalculatePos","resetStatbar","turnstatuses","movestatuses","moreActive","statbarOffset","isFFA","prependTo","hasVolatile","playEffect","shiny","speciesid","getSpeciesForme","doCry","shadowpokemon","dogarsCheck","hide","primalalpha","primalteal","primalcraftsman","primalcerise","primalomega","ultraburst","powerconstruct","schoolingin","schoolingout","megaevo","replaceWith","pokeEffect","spriten","pos1","pos2","pos3","leechseed1","energyball","leechseed2","leechseed3","protect","match","getStatbarHTML","ignoreNick","symbol","indexOf","startHidden","$prevhp","typechange","encodeURIComponent","typeadd","stat","boosts","getBoostType","getBoost","getEffectTag","getTypeList","statusbar","statusTable","$hptext","$hptextborder","show","trapped","throatchop","confusion","healblock","yawn","flashfire","luminesce","inflate","imprison","autotomize","miracleeye","foresight","telekinesis","transform","powertrick","curse","retribution","nightmare","attract","torment","taunt","disable","embargo","ingrain","aquaring","shadowfountain","stockpile1","stockpile2","stockpile3","perish0","perish1","perish2","perish3","airballoon","leechseed","encore","mustrecharge","bide","magnetrise","smackdown","focusenergy","slowstart","noretreat","octolock","tarshot","doomdesire","futuresight","propheticasteroid","shadowdoomsday","mimic","watersport","mudsport","substitute","uproar","rage","roost","quickguard","wideguard","craftyshield","matblock","maxguard","helpinghand","magiccoat","destinybond","snatch","grudge","charge","endure","focuspunch","shelltrap","powder","electrify","ragepowder","followme","instruct","beakblast","laserfocus","spotlight","itemremoved","bind","clamp","firespin","infestation","magmastorm","bubbleprison","sandtomb","shadowhold","silksnare","snaptrap","spiderweb","sporeslash","thundercage","whirlpool","wrap","Object","assign","easing","ballisticUp","t","b","c","d","ballisticDown","quadUp","quadDown","wisp","poisonwisp","waterwisp","mudwisp","blackwisp","shadowwisp","shadowwisp2","shadowwisp3","colorball1","colorball2","colorball3","colorball4","colorball5","colorball6","colorball7","colorball8","fireball","shadowfireball","shadowfireball2","shadowfireball3","bluefireball","icicle","shadowicicle","shadowicicle2","shadowicicle3","pinkicicle","lightning","shadowlightning","rocks","leaf1","leaf2","bone","shadowcaltrop","shadowball","shadowshadowball","shadowshadowball2","shadowshadowball3","electroball","mistball","iceball","flareball","meloball","pokeball","fist","shadowfist","fist1","foot","shadowfoot","topbite","shadowtopbite","bottombite","shadowbottombite","leftclaw","rightclaw","leftslash","shadowleftslash","rightslash","shadowrightslash","leftchop","shadowleftchop","rightchop","shadowrightchop","angry","heart","pointer","shadowpointer","sword","impact","shadowimpact","shadowimpact2","stare","shadowstare","shine","shadowshine","shadowshine2","feather","shell","petal","gear","alpha","teal","cerise","craftsman","omega","rainbow","shadowrainbow","zsymbol","ultra","hitmark","window","fxPrefix","attack","contactattack","xattack","slashattack","clawattack","punchattack","bite","shadowbite","kick","fastattack","fastanimattack","fastanimspecial","fastanimself","sneakattack","spinattack","bound","selfstatus","shadowselfstatus","lightstatus","shadowlightstatus","chargestatus","shadowchargestatus","heal","flight","shake","dance","shadowdance","consume","leech","drain","hydroshot","sound","shadowsound","gravity","futuresighthit","doomdesirehit","propheticasteroidhit","shadowdoomsdayhit","itemoff","anger","bidecharge","bideunleash","spectralthiefboost","zpower","xf","yf","xf2","yf2","brn","psn","slp","par","frz","flinch","attracted","cursed","confused","confusedselfhit"],"mappings":"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","sourcesContent":["/**\r\n * Pokemon Showdown Battle Animations\r\n *\r\n * There are the specific resource files and scripts for misc animations\r\n *\r\n * Licensing note: PS's client has complicated licensing:\r\n * - The client as a whole is AGPLv3\r\n * - The battle replay/animation engine (battle-*.ts) by itself is MIT\r\n *\r\n * @author Guangcong Luo <guangcongluo@gmail.com>\r\n * @license MIT\r\n */\r\n\r\n/*\r\n\r\nMost of this file is: CC0 (public domain)\r\n  <http://creativecommons.org/publicdomain/zero/1.0/>\r\n\r\nThis license DOES extend to all images in the fx/ folder, with the exception of icicle.png, lightning.png, and bone.png.\r\n\r\nicicle.png and lightning.png by Clint Bellanger are triple-licensed GPLv2/GPLv3/CC-BY-SA-3.0.\r\n  <http://opengameart.org/content/icicle-spell>\r\n  <http://opengameart.org/content/lightning-shock-spell>\r\n\r\nrocks.png, rock1.png, rock2.png by PO user \"Gilad\" is licensed GPLv3.\r\n\r\nThis license DOES NOT extend to any images in the sprites/ folder.\r\n\r\nThis license DOES NOT extend to any other files in this repository.\r\n\r\n*/\r\n\r\nclass BattleScene {\r\n\tbattle: Battle;\r\n\tanimating = true;\r\n\tacceleration = 1;\r\n\r\n\t/** Note: Not the actual generation of the battle, but the gen of the sprites/background */\r\n\tgen = 7;\r\n\tmod = '';\r\n\t/** 1 = singles, 2 = doubles, 3 = triples */\r\n\tactiveCount = 1;\r\n\r\n\tnumericId = 0;\r\n\t$frame: JQuery;\r\n\t$battle: JQuery = null!;\r\n\t$options: JQuery = null!;\r\n\tlog: BattleLog;\r\n\t$terrain: JQuery = null!;\r\n\t$weather: JQuery = null!;\r\n\t$bgEffect: JQuery = null!;\r\n\t$bg: JQuery = null!;\r\n\t$sprite: JQuery = null!;\r\n\t$sprites: [JQuery, JQuery] = [null!, null!];\r\n\t$spritesFront: [JQuery, JQuery] = [null!, null!];\r\n\t$stat: JQuery = null!;\r\n\t$fx: JQuery = null!;\r\n\t$leftbar: JQuery = null!;\r\n\t$rightbar: JQuery = null!;\r\n\t$turn: JQuery = null!;\r\n\t$messagebar: JQuery = null!;\r\n\t$delay: JQuery = null!;\r\n\t$hiddenMessage: JQuery = null!;\r\n\t$tooltips: JQuery = null!;\r\n\ttooltips: BattleTooltips;\r\n\r\n\tsideConditions: [{[id: string]: Sprite[]}, {[id: string]: Sprite[]}] = [{}, {}];\r\n\r\n\tpreloadDone = 0;\r\n\tpreloadNeeded = 0;\r\n\tbgm: BattleBGM | null = null;\r\n\tbackdropImage: string = '';\r\n\tbgmNum = 0;\r\n\tpreloadCache: {[url: string]: HTMLImageElement} = {};\r\n\r\n\tmessagebarOpen = false;\r\n\tcustomControls = false;\r\n\tinterruptionCount = 1;\r\n\tcurWeather = '';\r\n\tcurTerrain = '';\r\n\r\n\t// Animation state\r\n\t////////////////////////////////////\r\n\r\n\ttimeOffset = 0;\r\n\tpokemonTimeOffset = 0;\r\n\tminDelay = 0;\r\n\t/** jQuery objects that need to finish animating */\r\n\tactiveAnimations = $();\r\n\r\n\tconstructor(battle: Battle, $frame: JQuery, $logFrame: JQuery) {\r\n\t\tthis.battle = battle;\r\n\r\n\t\t$frame.addClass('battle');\r\n\t\tthis.$frame = $frame;\r\n\t\tthis.log = new BattleLog($logFrame[0] as HTMLDivElement, this);\r\n\t\tthis.log.battleParser!.pokemonName = (pokemonId: string) => {\r\n\t\t\tif (!pokemonId) return '';\r\n\t\t\tif (battle.ignoreNicks || battle.ignoreOpponent) {\r\n\t\t\t\tconst pokemon = battle.getPokemon(pokemonId);\r\n\t\t\t\tif (pokemon) return pokemon.speciesForme;\r\n\t\t\t}\r\n\t\t\tif (!pokemonId.startsWith('p')) return '???pokemon:' + pokemonId + '???';\r\n\t\t\tif (pokemonId.charAt(3) === ':') return pokemonId.slice(4).trim();\r\n\t\t\telse if (pokemonId.charAt(2) === ':') return pokemonId.slice(3).trim();\r\n\t\t\treturn '???pokemon:' + pokemonId + '???';\r\n\t\t};\r\n\r\n\t\tlet numericId = 0;\r\n\t\tif (battle.id) {\r\n\t\t\tnumericId = parseInt(battle.id.slice(battle.id.lastIndexOf('-') + 1), 10);\r\n\t\t\tif (this.battle.id.includes('digimon')) this.mod = 'digimon';\r\n\t\t}\r\n\t\tif (!numericId) {\r\n\t\t\tnumericId = Math.floor(Math.random() * 1000000);\r\n\t\t}\r\n\t\tthis.numericId = numericId;\r\n\t\tthis.tooltips = new BattleTooltips(battle);\r\n\t\tthis.tooltips.listen($frame[0]);\r\n\r\n\t\tthis.preloadEffects();\r\n\t\t// reset() is called during battle initialization, so it doesn't need to be called here\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.updateGen();\r\n\r\n\t\t// Log frame\r\n\t\t/////////////\r\n\r\n\t\tif (this.$options) {\r\n\t\t\tthis.log.reset();\r\n\t\t} else {\r\n\t\t\tthis.$options = $('<div class=\"battle-options\"></div>');\r\n\t\t\t$(this.log.elem).prepend(this.$options);\r\n\t\t}\r\n\r\n\t\t// Battle frame\r\n\t\t///////////////\r\n\r\n\t\tthis.$frame.empty();\r\n\t\tthis.$battle = $('<div class=\"innerbattle\"></div>');\r\n\t\tthis.$frame.append(this.$battle);\r\n\r\n\t\tthis.$bg = $('<div class=\"backdrop\" style=\"background-image:url(' + Dex.resourcePrefix + this.backdropImage + ');display:block;opacity:0.8\"></div>');\r\n\t\tthis.$terrain = $('<div class=\"weather\"></div>');\r\n\t\tthis.$weather = $('<div class=\"weather\"></div>');\r\n\t\tthis.$bgEffect = $('<div></div>');\r\n\t\tthis.$sprite = $('<div></div>');\r\n\r\n\t\tthis.$sprites = [$('<div></div>'), $('<div></div>')];\r\n\t\tthis.$spritesFront = [$('<div></div>'), $('<div></div>')];\r\n\r\n\t\tthis.$sprite.append(this.$sprites[1]);\r\n\t\tthis.$sprite.append(this.$spritesFront[1]);\r\n\t\tthis.$sprite.append(this.$spritesFront[0]);\r\n\t\tthis.$sprite.append(this.$sprites[0]);\r\n\r\n\t\tthis.$stat = $('<div role=\"complementary\" aria-label=\"Active Pokemon\"></div>');\r\n\t\tthis.$fx = $('<div></div>');\r\n\t\tthis.$leftbar = $('<div class=\"leftbar\" role=\"complementary\" aria-label=\"Your Team\"></div>');\r\n\t\tthis.$rightbar = $('<div class=\"rightbar\" role=\"complementary\" aria-label=\"Opponent\\'s Team\"></div>');\r\n\t\tthis.$turn = $('<div></div>');\r\n\t\tthis.$messagebar = $('<div class=\"messagebar message\"></div>');\r\n\t\tthis.$delay = $('<div></div>');\r\n\t\tthis.$hiddenMessage = $('<div class=\"message\" style=\"position:absolute;display:block;visibility:hidden\"></div>');\r\n\t\tthis.$tooltips = $('<div class=\"tooltips\"></div>');\r\n\r\n\t\tthis.$battle.append(this.$bg);\r\n\t\tthis.$battle.append(this.$terrain);\r\n\t\tthis.$battle.append(this.$weather);\r\n\t\tthis.$battle.append(this.$bgEffect);\r\n\t\tthis.$battle.append(this.$sprite);\r\n\t\tthis.$battle.append(this.$stat);\r\n\t\tthis.$battle.append(this.$fx);\r\n\t\tthis.$battle.append(this.$leftbar);\r\n\t\tthis.$battle.append(this.$rightbar);\r\n\t\tthis.$battle.append(this.$turn);\r\n\t\tthis.$battle.append(this.$messagebar);\r\n\t\tthis.$battle.append(this.$delay);\r\n\t\tthis.$battle.append(this.$hiddenMessage);\r\n\t\tthis.$battle.append(this.$tooltips);\r\n\r\n\t\tif (!this.animating) {\r\n\t\t\tthis.$battle.append('<div class=\"seeking\"><strong>seeking...</strong></div>');\r\n\t\t}\r\n\r\n\t\tthis.messagebarOpen = false;\r\n\t\tthis.timeOffset = 0;\r\n\t\tthis.pokemonTimeOffset = 0;\r\n\t\tthis.curTerrain = '';\r\n\t\tthis.curWeather = '';\r\n\r\n\t\tthis.log.battleParser!.perspective = this.battle.mySide.sideid;\r\n\r\n\t\tthis.resetSides(true);\r\n\t}\r\n\r\n\tanimationOff() {\r\n\t\tthis.$battle.append('<div class=\"seeking\"><strong>seeking...</strong></div>');\r\n\t\tthis.stopAnimation();\r\n\r\n\t\tthis.animating = false;\r\n\t\tthis.$messagebar.empty().css({\r\n\t\t\topacity: 0,\r\n\t\t\theight: 0,\r\n\t\t});\r\n\t}\r\n\tstopAnimation() {\r\n\t\tthis.interruptionCount++;\r\n\t\tthis.$battle.find(':animated').finish();\r\n\t\tthis.$fx.empty();\r\n\t}\r\n\tanimationOn() {\r\n\t\tif (this.animating) return;\r\n\t\t$.fx.off = false;\r\n\t\tthis.animating = true;\r\n\t\tthis.$battle.find('.seeking').remove();\r\n\t\tthis.updateSidebars();\r\n\t\tfor (const side of this.battle.sides) {\r\n\t\t\tfor (const pokemon of side.pokemon) {\r\n\t\t\t\tpokemon.sprite.reset(pokemon);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.updateWeather(true);\r\n\t\tthis.resetTurn();\r\n\t\tthis.resetSideConditions();\r\n\t}\r\n\tpause() {\r\n\t\tthis.stopAnimation();\r\n\t\tthis.updateBgm();\r\n\t\tif (this.battle.turn > 0) {\r\n\t\t\tthis.$frame.append('<div class=\"playbutton\"><button name=\"play\"><i class=\"fa fa-play icon-play\"></i> Resume</button></div>');\r\n\t\t} else {\r\n\t\t\tthis.$frame.append('<div class=\"playbutton\"><button name=\"play\"><i class=\"fa fa-play\"></i> Play</button><br /><br /><button name=\"play-muted\" class=\"startsoundchooser\" style=\"font-size:10pt;display:none\">Play (music off)</button></div>');\r\n\t\t\tthis.$frame.find('div.playbutton button[name=play-muted]').click(() => {\r\n\t\t\t\tthis.battle.setMute(true);\r\n\t\t\t\tthis.battle.play();\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.$frame.find('div.playbutton button[name=play]').click(() => this.battle.play());\r\n\t}\r\n\tresume() {\r\n\t\tthis.$frame.find('div.playbutton').remove();\r\n\t\tthis.updateBgm();\r\n\t}\r\n\twait(time: number) {\r\n\t\tif (!this.animating) return;\r\n\t\tthis.timeOffset += time;\r\n\t}\r\n\r\n\t// Sprite handling\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\taddSprite(sprite: PokemonSprite) {\r\n\t\tif (sprite.$el) this.$sprites[+sprite.isFrontSprite].append(sprite.$el);\r\n\t}\r\n\tshowEffect(effect: string | SpriteData, start: ScenePos, end: ScenePos, transition: string, after?: string) {\r\n\t\tif (typeof effect === 'string') effect = BattleEffects[effect] as SpriteData;\r\n\t\tif (!start.time) start.time = 0;\r\n\t\tif (!end.time) end.time = start.time + 500;\r\n\t\tstart.time += this.timeOffset;\r\n\t\tend.time += this.timeOffset;\r\n\t\tif (!end.scale && end.scale !== 0 && start.scale) end.scale = start.scale;\r\n\t\tif (!end.xscale && end.xscale !== 0 && start.xscale) end.xscale = start.xscale;\r\n\t\tif (!end.yscale && end.yscale !== 0 && start.yscale) end.yscale = start.yscale;\r\n\t\tend = {...start, ...end};\r\n\r\n\t\tlet startpos = this.pos(start, effect);\r\n\t\tlet endpos = this.posT(end, effect, transition, start);\r\n\r\n\t\tlet $effect = $('<img src=\"' + effect.url + '\" style=\"display:block;position:absolute\" />');\r\n\t\tthis.$fx.append($effect);\r\n\t\t$effect = this.$fx.children().last();\r\n\r\n\t\tif (start.time) {\r\n\t\t\t$effect.css({...startpos, opacity: 0});\r\n\t\t\t$effect.delay(start.time).animate({\r\n\t\t\t\topacity: startpos.opacity,\r\n\t\t\t}, 1);\r\n\t\t} else {\r\n\t\t\t$effect.css(startpos);\r\n\t\t}\r\n\t\t$effect.animate(endpos, end.time! - start.time);\r\n\t\tif (after === 'fade') {\r\n\t\t\t$effect.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t\tif (after === 'explode') {\r\n\t\t\tif (end.scale) end.scale *= 3;\r\n\t\t\tif (end.xscale) end.xscale *= 3;\r\n\t\t\tif (end.yscale) end.yscale *= 3;\r\n\t\t\tend.opacity = 0;\r\n\t\t\tlet endendpos = this.pos(end, effect);\r\n\t\t\t$effect.animate(endendpos, 200);\r\n\t\t}\r\n\t\tthis.waitFor($effect);\r\n\t}\r\n\tbackgroundEffect(bg: string, duration: number, opacity = 1, delay = 0) {\r\n\t\tlet $effect = $('<div class=\"background\"></div>');\r\n\t\t$effect.css({\r\n\t\t\tbackground: bg,\r\n\t\t\tdisplay: 'block',\r\n\t\t\topacity: 0,\r\n\t\t});\r\n\t\tthis.$bgEffect.append($effect);\r\n\t\t$effect.delay(delay).animate({\r\n\t\t\topacity,\r\n\t\t}, 250).delay(duration - 250);\r\n\t\t$effect.animate({\r\n\t\t\topacity: 0,\r\n\t\t}, 250);\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a PS location (x, y, z, scale, xscale, yscale, opacity)\r\n\t * to a jQuery position (top, left, width, height, opacity) suitable\r\n\t * for passing into `jQuery#css` or `jQuery#animate`.\r\n\t * The display property is passed through if it exists.\r\n\t */\r\n\tpos(loc: ScenePos, obj: SpriteData) {\r\n\t\tloc = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tz: 0,\r\n\t\t\tscale: 1,\r\n\t\t\topacity: 1,\r\n\t\t\t...loc,\r\n\t\t};\r\n\t\tif (!loc.xscale && loc.xscale !== 0) loc.xscale = loc.scale;\r\n\t\tif (!loc.yscale && loc.yscale !== 0) loc.yscale = loc.scale;\r\n\r\n\t\tlet left = 210;\r\n\t\tlet top = 245;\r\n\t\tlet scale = (obj.gen === 5\r\n\t\t\t? 2.0 - ((loc.z!) / 200)\r\n\t\t\t: 1.5 - 0.5 * ((loc.z!) / 200));\r\n\t\tif (scale < .1) scale = .1;\r\n\r\n\t\tleft += (410 - 190) * ((loc.z!) / 200);\r\n\t\ttop += (135 - 245) * ((loc.z!) / 200);\r\n\t\tleft += Math.floor(loc.x! * scale);\r\n\t\ttop -= Math.floor(loc.y! * scale /* - loc.x * scale / 4 */);\r\n\t\tlet width = Math.floor(obj.w * scale * loc.xscale!);\r\n\t\tlet height = Math.floor(obj.h * scale * loc.yscale!);\r\n\t\tlet hoffset = Math.floor((obj.h - (obj.y || 0) * 2) * scale * loc.yscale!);\r\n\t\tleft -= Math.floor(width / 2);\r\n\t\ttop -= Math.floor(hoffset / 2);\r\n\r\n\t\tlet pos: JQuery.PlainObject = {\r\n\t\t\tleft,\r\n\t\t\ttop,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\topacity: loc.opacity,\r\n\t\t};\r\n\t\tif (loc.display) pos.display = loc.display;\r\n\t\treturn pos;\r\n\t}\r\n\t/**\r\n\t * Converts a PS location to a jQuery transition map (see `pos`)\r\n\t * suitable for passing into `jQuery#animate`.\r\n\t * oldLoc is required for ballistic (jumping) animations.\r\n\t */\r\n\tposT(loc: ScenePos, obj: SpriteData, transition?: string, oldLoc?: ScenePos): JQuery.PlainObject {\r\n\t\tconst pos = this.pos(loc, obj);\r\n\t\tconst oldPos = (oldLoc ? this.pos(oldLoc, obj) : null);\r\n\t\tlet transitionMap = {\r\n\t\t\tleft: 'linear',\r\n\t\t\ttop: 'linear',\r\n\t\t\twidth: 'linear',\r\n\t\t\theight: 'linear',\r\n\t\t\topacity: 'linear',\r\n\t\t};\r\n\t\tif (transition === 'ballistic') {\r\n\t\t\ttransitionMap.top = (pos.top < oldPos!.top ? 'ballisticUp' : 'ballisticDown');\r\n\t\t}\r\n\t\tif (transition === 'ballisticUnder') {\r\n\t\t\ttransitionMap.top = (pos.top < oldPos!.top ? 'ballisticDown' : 'ballisticUp');\r\n\t\t}\r\n\t\tif (transition === 'ballistic2') {\r\n\t\t\ttransitionMap.top = (pos.top < oldPos!.top ? 'quadUp' : 'quadDown');\r\n\t\t}\r\n\t\tif (transition === 'ballistic2Back') {\r\n\t\t\t// This _should_ be the same as ballistic2.\r\n\t\t\t// Unfortunately, oldLoc is the original loc, rather than the\r\n\t\t\t// previous loc, so when you're \"going back\", loc === oldLoc, and\r\n\t\t\t// the direction has to instead be inferred from the destination.\r\n\t\t\ttransitionMap.top = (loc.z! > 0 ? 'quadUp' : 'quadDown');\r\n\t\t}\r\n\t\tif (transition === 'ballistic2Under') {\r\n\t\t\ttransitionMap.top = (pos.top < oldPos!.top ? 'quadDown' : 'quadUp');\r\n\t\t}\r\n\t\tif (transition === 'swing') {\r\n\t\t\ttransitionMap.left = 'swing';\r\n\t\t\ttransitionMap.top = 'swing';\r\n\t\t\ttransitionMap.width = 'swing';\r\n\t\t\ttransitionMap.height = 'swing';\r\n\t\t}\r\n\t\tif (transition === 'accel') {\r\n\t\t\ttransitionMap.left = 'quadDown';\r\n\t\t\ttransitionMap.top = 'quadDown';\r\n\t\t\ttransitionMap.width = 'quadDown';\r\n\t\t\ttransitionMap.height = 'quadDown';\r\n\t\t}\r\n\t\tif (transition === 'decel') {\r\n\t\t\ttransitionMap.left = 'quadUp';\r\n\t\t\ttransitionMap.top = 'quadUp';\r\n\t\t\ttransitionMap.width = 'quadUp';\r\n\t\t\ttransitionMap.height = 'quadUp';\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tleft: [pos.left, transitionMap.left],\r\n\t\t\ttop: [pos.top, transitionMap.top],\r\n\t\t\twidth: [pos.width, transitionMap.width],\r\n\t\t\theight: [pos.height, transitionMap.height],\r\n\t\t\topacity: [pos.opacity, transitionMap.opacity],\r\n\t\t};\r\n\t}\r\n\r\n\twaitFor(elem: JQuery) {\r\n\t\tthis.activeAnimations = this.activeAnimations.add(elem);\r\n\t}\r\n\r\n\tstartAnimations() {\r\n\t\tthis.$fx.empty();\r\n\t\tthis.activeAnimations = $();\r\n\t\tthis.timeOffset = 0;\r\n\t\tthis.minDelay = 0;\r\n\t}\r\n\r\n\tfinishAnimations() {\r\n\t\tif (this.minDelay || this.timeOffset) {\r\n\t\t\tthis.$delay.delay(Math.max(this.minDelay, this.timeOffset));\r\n\t\t\tthis.activeAnimations = this.activeAnimations.add(this.$delay);\r\n\t\t}\r\n\t\tif (!this.activeAnimations.length) return undefined;\r\n\t\treturn this.activeAnimations.promise();\r\n\t}\r\n\r\n\t// Messagebar and log\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\tpreemptCatchup() {\r\n\t\tthis.log.preemptCatchup();\r\n\t}\r\n\tmessage(message: string) {\r\n\t\tif (!this.messagebarOpen) {\r\n\t\t\tthis.log.addSpacer();\r\n\t\t\tif (this.animating) {\r\n\t\t\t\tthis.$messagebar.empty();\r\n\t\t\t\tthis.$messagebar.css({\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\theight: 'auto',\r\n\t\t\t\t});\r\n\t\t\t\tthis.$messagebar.animate({\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t}, this.battle.messageFadeTime / this.acceleration);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.battle.hardcoreMode && message.slice(0, 8) === '<small>(') {\r\n\t\t\tmessage = '';\r\n\t\t}\r\n\t\tif (message && this.animating) {\r\n\t\t\tthis.$hiddenMessage.append('<p></p>');\r\n\t\t\tlet $message = this.$hiddenMessage.children().last();\r\n\t\t\t$message.html(message);\r\n\t\t\t$message.css({\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\topacity: 0,\r\n\t\t\t});\r\n\t\t\t$message.animate({\r\n\t\t\t\theight: 'hide',\r\n\t\t\t}, 1, () => {\r\n\t\t\t\t$message.appendTo(this.$messagebar);\r\n\t\t\t\t$message.animate({\r\n\t\t\t\t\theight: 'show',\r\n\t\t\t\t\t'padding-bottom': 4,\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t}, this.battle.messageFadeTime / this.acceleration);\r\n\t\t\t});\r\n\t\t\tthis.waitFor($message);\r\n\t\t}\r\n\t\tthis.messagebarOpen = true;\r\n\t}\r\n\tmaybeCloseMessagebar(args: Args, kwArgs: KWArgs) {\r\n\t\tif (this.log.battleParser!.sectionBreak(args, kwArgs)) {\r\n\t\t\tif (!this.messagebarOpen) return false;\r\n\t\t\tthis.closeMessagebar();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tcloseMessagebar() {\r\n\t\tif (this.messagebarOpen) {\r\n\t\t\tthis.messagebarOpen = false;\r\n\t\t\tif (this.animating) {\r\n\t\t\t\tthis.$messagebar.delay(this.battle.messageShownTime / this.acceleration).animate({\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t}, this.battle.messageFadeTime / this.acceleration);\r\n\t\t\t\tthis.waitFor(this.$messagebar);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// General updating\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\trunMoveAnim(moveid: ID, participants: Pokemon[]) {\r\n\t\tif (!this.animating) return;\r\n\t\tlet animEntry = BattleMoveAnims[moveid];\r\n\t\tif (this.acceleration >= 3) {\r\n\t\t\tconst targetsSelf = !participants[1] || participants[0] === participants[1];\r\n\t\t\tconst isSpecial = !targetsSelf && this.battle.dex.moves.get(moveid).category === 'Special';\r\n\t\t\tanimEntry = BattleOtherAnims[targetsSelf ? 'fastanimself' : isSpecial ? 'fastanimspecial' : 'fastanimattack'];\r\n\t\t} else if (!animEntry) {\r\n\t\t\tanimEntry = BattleMoveAnims['tackle'];\r\n\t\t}\r\n\t\tanimEntry.anim(this, participants.map(p => p.sprite));\r\n\t}\r\n\r\n\trunOtherAnim(moveid: ID, participants: Pokemon[]) {\r\n\t\tif (!this.animating) return;\r\n\t\tBattleOtherAnims[moveid].anim(this, participants.map(p => p.sprite));\r\n\t}\r\n\r\n\trunStatusAnim(moveid: ID, participants: Pokemon[]) {\r\n\t\tif (!this.animating) return;\r\n\t\tBattleStatusAnims[moveid].anim(this, participants.map(p => p.sprite));\r\n\t}\r\n\r\n\trunResidualAnim(moveid: ID, pokemon: Pokemon) {\r\n\t\tif (!this.animating) return;\r\n\t\tBattleMoveAnims[moveid].residualAnim!(this, [pokemon.sprite]);\r\n\t}\r\n\r\n\trunPrepareAnim(moveid: ID, attacker: Pokemon, defender: Pokemon) {\r\n\t\tif (!this.animating || this.acceleration >= 3) return;\r\n\t\tconst moveAnim = BattleMoveAnims[moveid];\r\n\t\tif (!moveAnim.prepareAnim) return;\r\n\t\tmoveAnim.prepareAnim(this, [attacker.sprite, defender.sprite]);\r\n\t}\r\n\r\n\tupdateGen() {\r\n\t\tlet gen = this.battle.gen;\r\n\t\tif (Dex.prefs('nopastgens')) gen = 6;\r\n\t\tif (Dex.prefs('bwgfx') && gen > 5) gen = 5;\r\n\t\tthis.gen = gen;\r\n\t\tthis.activeCount = this.battle.nearSide?.active.length || 1;\r\n\r\n\t\tconst isSPL = (typeof this.battle.rated === 'string' && this.battle.rated.startsWith(\"Smogon Premier League\"));\r\n\t\tlet bg: string;\r\n\t\tif (isSPL) {\r\n\t\t\tif (gen <= 1) bg = 'fx/bg-gen1-spl.png';\r\n\t\t\telse if (gen <= 2) bg = 'fx/bg-gen2-spl.png';\r\n\t\t\telse if (gen <= 3) bg = 'fx/bg-gen3-spl.png';\r\n\t\t\telse if (gen <= 4) bg = 'fx/bg-gen4-spl.png';\r\n\t\t\telse bg = 'fx/bg-spl.png';\r\n\t\t\tthis.setBgm(-101);\r\n\t\t} else {\r\n\t\t\tif (gen <= 1) bg = 'fx/bg-gen1.png?';\r\n\t\t\telse if (gen <= 2) bg = 'fx/bg-gen2.png?';\r\n\t\t\telse if (gen <= 3) bg = 'fx/' + BattleBackdropsThree[this.numericId % BattleBackdropsThree.length] + '?';\r\n\t\t\telse if (gen <= 4) bg = 'fx/' + BattleBackdropsFour[this.numericId % BattleBackdropsFour.length];\r\n\t\t\telse if (gen <= 5) bg = 'fx/' + BattleBackdropsFive[this.numericId % BattleBackdropsFive.length];\r\n\t\t\telse bg = 'sprites/gen6bgs/' + BattleBackdrops[this.numericId % BattleBackdrops.length];\r\n\t\t}\r\n\r\n\t\tthis.backdropImage = bg;\r\n\t\tif (this.$bg) {\r\n\t\t\tthis.$bg.css('background-image', 'url(' + Dex.resourcePrefix + '' + this.backdropImage + ')');\r\n\t\t}\r\n\t}\r\n\r\n\tgetDetailsText(pokemon: Pokemon) {\r\n\t\tlet name = pokemon.side?.isFar &&\r\n\t\t\t(this.battle.ignoreOpponent || this.battle.ignoreNicks) ? pokemon.speciesForme : pokemon.name;\r\n\t\tif (name !== pokemon.speciesForme) {\r\n\t\t\t\tname += ' (' + pokemon.speciesForme + ')';\r\n\t\t}\r\n\t\tif (pokemon === pokemon.side.active[0]) {\r\n\t\t\tname += ' (active)';\r\n\t\t} else if (pokemon.fainted) {\r\n\t\t\tname += ' (fainted)';\r\n\t\t} else {\r\n\t\t\tlet statustext = '';\r\n\t\t\tif (pokemon.hp !== pokemon.maxhp) {\r\n\t\t\t\tstatustext += Pokemon.getHPText(pokemon);\r\n\t\t\t}\r\n\t\t\tif (pokemon.status) {\r\n\t\t\t\tif (statustext) statustext += '|';\r\n\t\t\t\tstatustext += pokemon.status;\r\n\t\t\t}\r\n\t\t\tif (statustext) {\r\n\t\t\t\tname += ' (' + statustext + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn BattleLog.escapeHTML(name);\r\n\t}\r\n\tgetSidebarHTML(side: Side, posStr: string): string {\r\n\t\tlet noShow = this.battle.hardcoreMode && this.battle.gen < 7;\r\n\r\n\t\tlet speciesOverage = this.battle.speciesClause ? Infinity : Math.max(side.pokemon.length - side.totalPokemon, 0);\r\n\t\tconst sidebarIcons: (\r\n\t\t\t['pokemon' | 'pokemon-illusion', number] | ['unrevealed' | 'empty' | 'pseudo-zoroark', null]\r\n\t\t)[] = [];\r\n\t\tconst speciesTable: string[] = [];\r\n\t\tlet zoroarkRevealed = false;\r\n\t\tlet hasIllusion = false;\r\n\t\tif (speciesOverage) {\r\n\t\t\tfor (let i = 0; i < side.pokemon.length; i++) {\r\n\t\t\t\tconst species = side.pokemon[i].getBaseSpecies().baseSpecies;\r\n\t\t\t\tif (speciesOverage && speciesTable.includes(species)) {\r\n\t\t\t\t\tfor (const sidebarIcon of sidebarIcons) {\r\n\t\t\t\t\t\tif (side.pokemon[sidebarIcon[1]!].getBaseSpecies().baseSpecies === species) {\r\n\t\t\t\t\t\t\tsidebarIcon[0] = 'pokemon-illusion';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\thasIllusion = true;\r\n\t\t\t\t\tspeciesOverage--;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsidebarIcons.push(['pokemon', i]);\r\n\t\t\t\t\tspeciesTable.push(species);\r\n\t\t\t\t\tif (['Zoroark', 'Zorua'].includes(species)) {\r\n\t\t\t\t\t\tzoroarkRevealed = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (let i = 0; i < side.pokemon.length; i++) {\r\n\t\t\t\tsidebarIcons.push(['pokemon', i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!zoroarkRevealed && hasIllusion && sidebarIcons.length < side.totalPokemon) {\r\n\t\t\tsidebarIcons.push(['pseudo-zoroark', null]);\r\n\t\t}\r\n\t\twhile (sidebarIcons.length < side.totalPokemon) {\r\n\t\t\tsidebarIcons.push(['unrevealed', null]);\r\n\t\t}\r\n\t\twhile (sidebarIcons.length < 6) {\r\n\t\t\tsidebarIcons.push(['empty', null]);\r\n\t\t}\r\n\r\n\t\tlet pokemonhtml = '';\r\n\t\tfor (let i = 0; i < sidebarIcons.length; i++) {\r\n\t\t\tconst [iconType, pokeIndex] = sidebarIcons[i];\r\n\t\t\tconst poke = pokeIndex !== null ? side.pokemon[pokeIndex] : null;\r\n\t\t\tconst tooltipCode = ` class=\"picon has-tooltip\" data-tooltip=\"pokemon|${side.n}|${pokeIndex}${iconType === 'pokemon-illusion' ? '|illusion' : ''}\"`;\r\n\t\t\tif (iconType === 'empty') {\r\n\t\t\t\tpokemonhtml += `<span class=\"picon\" style=\"` + Dex.getPokemonIcon('pokeball-none') + `\"></span>`;\r\n\t\t\t} else if (noShow) {\r\n\t\t\t\tif (poke?.fainted) {\r\n\t\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"` + Dex.getPokemonIcon('pokeball-fainted') + `\" aria-label=\"Fainted\"></span>`;\r\n\t\t\t\t} else if (poke?.status) {\r\n\t\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"` + Dex.getPokemonIcon('pokeball-statused') + `\" aria-label=\"Statused\"></span>`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"` + Dex.getPokemonIcon('pokeball') + `\" aria-label=\"Non-statused\"></span>`;\r\n\t\t\t\t}\r\n\t\t\t} else if (iconType === 'pseudo-zoroark') {\r\n\t\t\t\tpokemonhtml += `<span class=\"picon\" style=\"` + Dex.getPokemonIcon('zoroark') + `\" title=\"Unrevealed Illusion user\" aria-label=\"Unrevealed Illusion user\"></span>`;\r\n\t\t\t} else if (!poke) {\r\n\t\t\t\tpokemonhtml += `<span class=\"picon\" style=\"` + Dex.getPokemonIcon('pokeball') + `\" title=\"Not revealed\" aria-label=\"Not revealed\"></span>`;\r\n\t\t\t} else if (!poke.ident && this.battle.teamPreviewCount && this.battle.teamPreviewCount < side.pokemon.length) {\r\n\t\t\t\t// in VGC (bring 6 pick 4) and other pick-less-than-you-bring formats, this is\r\n\t\t\t\t// a pokemon that's been brought but not necessarily picked\r\n\t\t\t\tconst details = this.getDetailsText(poke);\r\n\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"` + Dex.getPokemonIcon(poke, !side.isFar) + `;opacity:0.6\" aria-label=\"${details}\"></span>`;\r\n\t\t\t} else {\r\n\t\t\t\tconst details = this.getDetailsText(poke);\r\n\t\t\t\tpokemonhtml += `<span${tooltipCode} style=\"` + Dex.getPokemonIcon(poke, !side.isFar) + `\" aria-label=\"${details}\"></span>`;\r\n\t\t\t}\r\n\t\t\tif (i % 3 === 2) pokemonhtml += `</div><div class=\"teamicons\">`;\r\n\t\t}\r\n\t\tpokemonhtml = '<div class=\"teamicons\">' + pokemonhtml + '</div>';\r\n\t\tconst ratinghtml = side.rating ? ` title=\"Rating: ${BattleLog.escapeHTML(side.rating)}\"` : ``;\r\n\t\tconst faded = side.name ? `` : ` style=\"opacity: 0.4\"`;\r\n\t\treturn `<div class=\"trainer trainer-${posStr}\"${faded}><strong>${BattleLog.escapeHTML(side.name)}</strong><div class=\"trainersprite\"${ratinghtml} style=\"background-image:url(${Dex.resolveAvatar(side.avatar)})\"></div>${pokemonhtml}</div>`;\r\n\t}\r\n\tupdateSidebar(side: Side) {\r\n\t\tif (this.battle.gameType === 'freeforall') {\r\n\t\t\tthis.updateLeftSidebar();\r\n\t\t\tthis.updateRightSidebar();\r\n\t\t} else if (side === this.battle.nearSide || side === this.battle.nearSide.ally) {\r\n\t\t\tthis.updateLeftSidebar();\r\n\t\t} else {\r\n\t\t\tthis.updateRightSidebar();\r\n\t\t}\r\n\t}\r\n\tupdateLeftSidebar() {\r\n\t\tconst side = this.battle.nearSide;\r\n\r\n\t\tif (side.ally) {\r\n\t\t\tconst side2 = side.ally!;\r\n\t\t\tthis.$leftbar.html(this.getSidebarHTML(side, 'near2') + this.getSidebarHTML(side2, 'near'));\r\n\t\t} else if (this.battle.sides.length > 2) { // FFA\r\n\t\t\tconst side2 = this.battle.sides[side.n === 0 ? 3 : 2];\r\n\t\t\tthis.$leftbar.html(this.getSidebarHTML(side2, 'near2') + this.getSidebarHTML(side, 'near'));\r\n\t\t} else {\r\n\t\t\tthis.$leftbar.html(this.getSidebarHTML(side, 'near'));\r\n\t\t}\r\n\t}\r\n\tupdateRightSidebar() {\r\n\t\tconst side = this.battle.farSide;\r\n\r\n\t\tif (side.ally) {\r\n\t\t\tconst side2 = side.ally!;\r\n\t\t\tthis.$rightbar.html(this.getSidebarHTML(side, 'far2') + this.getSidebarHTML(side2, 'far'));\r\n\t\t} else if (this.battle.sides.length > 2) { // FFA\r\n\t\t\tconst side2 = this.battle.sides[side.n === 0 ? 3 : 2];\r\n\t\t\tthis.$rightbar.html(this.getSidebarHTML(side2, 'far2') + this.getSidebarHTML(side, 'far'));\r\n\t\t} else {\r\n\t\t\tthis.$rightbar.html(this.getSidebarHTML(side, 'far'));\r\n\t\t}\r\n\t}\r\n\tupdateSidebars() {\r\n\t\tthis.updateLeftSidebar();\r\n\t\tthis.updateRightSidebar();\r\n\t}\r\n\tupdateStatbars() {\r\n\t\tfor (const side of this.battle.sides) {\r\n\t\t\tfor (const active of side.active) {\r\n\t\t\t\tif (active) active.sprite.updateStatbar(active);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tresetSides(skipEmpty?: boolean) {\r\n\t\tif (!skipEmpty) {\r\n\t\t\tfor (const $spritesContainer of this.$sprites) {\r\n\t\t\t\t$spritesContainer.empty();\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (const side of this.battle.sides) {\r\n\t\t\tside.z = (side.isFar ? 200 : 0);\r\n\t\t\tside.missedPokemon?.sprite?.destroy();\r\n\r\n\t\t\tside.missedPokemon = {\r\n\t\t\t\tsprite: new PokemonSprite(null, {\r\n\t\t\t\t\tx: side.leftof(-100),\r\n\t\t\t\t\ty: side.y,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t}, this, side.isFar),\r\n\t\t\t} as any;\r\n\r\n\t\t\tside.missedPokemon.sprite.isMissedPokemon = true;\r\n\t\t}\r\n\t\tif (this.battle.sides.length > 2 && this.sideConditions.length === 2) {\r\n\t\t\tthis.sideConditions.push({}, {});\r\n\t\t}\r\n\t\tthis.rebuildTooltips();\r\n\t}\r\n\trebuildTooltips() {\r\n\t\tlet tooltipBuf = '';\r\n\t\tconst tooltips = this.battle.gameType === 'freeforall' ? {\r\n\t\t\t// FFA battles are visually rendered as triple battle with the center slots empty\r\n\t\t\t// so we swap the 2nd and 3rd tooltips on each side\r\n\t\t\tp2b: {top: 70, left: 250, width: 80, height: 100, tooltip: 'activepokemon|1|1'},\r\n\t\t\tp2a: {top: 90, left: 390, width: 100, height: 100, tooltip: 'activepokemon|1|0'},\r\n\t\t\tp1a: {top: 200, left: 130, width: 120, height: 160, tooltip: 'activepokemon|0|0'},\r\n\t\t\tp1b: {top: 200, left: 350, width: 150, height: 160, tooltip: 'activepokemon|0|1'},\r\n\t\t} : {\r\n\t\t\tp2c: {top: 70, left: 250, width: 80, height: 100, tooltip: 'activepokemon|1|2'},\r\n\t\t\tp2b: {top: 85, left: 320, width: 90, height: 100, tooltip: 'activepokemon|1|1'},\r\n\t\t\tp2a: {top: 90, left: 390, width: 100, height: 100, tooltip: 'activepokemon|1|0'},\r\n\t\t\tp1a: {top: 200, left: 130, width: 120, height: 160, tooltip: 'activepokemon|0|0'},\r\n\t\t\tp1b: {top: 200, left: 250, width: 150, height: 160, tooltip: 'activepokemon|0|1'},\r\n\t\t\tp1c: {top: 200, left: 350, width: 150, height: 160, tooltip: 'activepokemon|0|2'},\r\n\t\t};\r\n\t\tfor (const id in tooltips) {\r\n\t\t\tlet layout = tooltips[id as 'p1a'];\r\n\t\t\ttooltipBuf += `<div class=\"has-tooltip\" style=\"position:absolute;`;\r\n\t\t\ttooltipBuf += `top:${layout.top}px;left:${layout.left}px;width:${layout.width}px;height:${layout.height}px;`;\r\n\t\t\ttooltipBuf += `\" data-id=\"${id}\" data-tooltip=\"${layout.tooltip}\" data-ownheight=\"1\"></div>`;\r\n\t\t}\r\n\t\tthis.$tooltips.html(tooltipBuf);\r\n\t}\r\n\r\n\tteamPreview() {\r\n\t\tlet newBGNum = 0;\r\n\t\tfor (let siden = 0; siden < 2 || (this.battle.gameType === 'multi' && siden < 4); siden++) {\r\n\t\t\tlet side = this.battle.sides[siden];\r\n\t\t\tconst spriteIndex = +this.battle.sidesSwitched ^ (siden % 2);\r\n\t\t\tlet textBuf = '';\r\n\t\t\tlet buf = '';\r\n\t\t\tlet buf2 = '';\r\n\t\t\tthis.$sprites[spriteIndex].empty();\r\n\r\n\t\t\tlet ludicoloCount = 0;\r\n\t\t\tlet lombreCount = 0;\r\n\t\t\tfor (let i = 0; i < side.pokemon.length; i++) {\r\n\t\t\t\tlet pokemon = side.pokemon[i];\r\n\t\t\t\tif (pokemon.speciesForme === 'Xerneas-*') {\r\n\t\t\t\t\tpokemon.speciesForme = 'Xerneas-Neutral';\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.speciesForme === 'Ludicolo') ludicoloCount++;\r\n\t\t\t\tif (pokemon.speciesForme === 'Lombre') lombreCount++;\r\n\r\n\t\t\t\tlet spriteData = Dex.getSpriteData(pokemon, !!spriteIndex, {\r\n\t\t\t\t\tgen: this.gen,\r\n\t\t\t\t\tnoScale: true,\r\n\t\t\t\t\tmod: this.mod,\r\n\t\t\t\t});\r\n\t\t\t\tlet y = 0;\r\n\t\t\t\tlet x = 0;\r\n\t\t\t\tif (spriteIndex) {\r\n\t\t\t\t\ty = 48 + 50 + 3 * (i + 6 - side.pokemon.length);\r\n\t\t\t\t\tx = 48 + 180 + 50 * (i + 6 - side.pokemon.length);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ty = 48 + 200 + 3 * i;\r\n\t\t\t\t\tx = 48 + 100 + 50 * i;\r\n\t\t\t\t}\r\n\t\t\t\tif (textBuf) textBuf += ' / ';\r\n\t\t\t\ttextBuf += pokemon.speciesForme;\r\n\t\t\t\tlet url = spriteData.url;\r\n\t\t\t\t// if (this.paused) url.replace('/xyani', '/xy').replace('.gif', '.png');\r\n\t\t\t\tbuf += '<img src=\"' + url + '\" width=\"' + spriteData.w + '\" height=\"' + spriteData.h + '\" style=\"position:absolute;top:' + Math.floor(y - spriteData.h / 2) + 'px;left:' + Math.floor(x - spriteData.w / 2) + 'px\" />';\r\n\t\t\t\tbuf2 += '<div style=\"position:absolute;top:' + (y + 45) + 'px;left:' + (x - 40) + 'px;width:80px;font-size:10px;text-align:center;color:#FFF;\">';\r\n\t\t\t\tconst gender = pokemon.gender;\r\n\t\t\t\tif (gender === 'M' || gender === 'F') {\r\n\t\t\t\t\tbuf2 += `<img src=\"${Dex.resourcePrefix}fx/gender-${gender.toLowerCase()}.png\" alt=\"${gender}\" width=\"7\" height=\"10\" class=\"pixelated\" style=\"margin-bottom:-1px\" /> `;\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.level !== 100) {\r\n\t\t\t\t\tbuf2 += '<span style=\"text-shadow:#000 1px 1px 0,#000 1px -1px 0,#000 -1px 1px 0,#000 -1px -1px 0\"><small>L</small>' + pokemon.level + '</span>';\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.item === '(mail)') {\r\n\t\t\t\t\tbuf2 += ' <img src=\"' + Dex.resourcePrefix + 'fx/mail.png\" width=\"8\" height=\"10\" alt=\"F\" style=\"margin-bottom:-1px\" />';\r\n\t\t\t\t} else if (pokemon.item) {\r\n\t\t\t\t\tbuf2 += ' <img src=\"' + Dex.resourcePrefix + 'fx/item.png\" width=\"8\" height=\"10\" alt=\"F\" style=\"margin-bottom:-1px\" />';\r\n\t\t\t\t}\r\n\t\t\t\tbuf2 += '</div>';\r\n\t\t\t}\r\n\t\t\tside.totalPokemon = side.pokemon.length;\r\n\t\t\tif (textBuf) {\r\n\t\t\t\tthis.log.addDiv('chat battle-history',\r\n\t\t\t\t\t'<strong>' + BattleLog.escapeHTML(side.name) + '\\'s team:</strong> <em style=\"color:#445566;display:block;\">' + BattleLog.escapeHTML(textBuf) + '</em>'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tthis.$sprites[spriteIndex].html(buf + buf2);\r\n\r\n\t\t\tif (!newBGNum) {\r\n\t\t\tif (ludicoloCount >= 2) {\r\n\t\t\t\tnewBGNum = -3;\r\n\t\t\t\t} else if (ludicoloCount + lombreCount >= 2) {\r\n\t\t\t\t\tnewBGNum = -2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (newBGNum !== 0) {\r\n\t\t\tthis.setBgm(newBGNum);\r\n\t\t}\r\n\t\tthis.wait(1000);\r\n\t\tthis.updateSidebars();\r\n\t}\r\n\r\n\tshowJoinButtons() {\r\n\t\tif (!this.battle.joinButtons) return;\r\n\t\tif (this.battle.ended || this.battle.rated) return;\r\n\t\tif (!this.battle.p1.name) {\r\n\t\t\tthis.$battle.append('<div class=\"playbutton1\"><button name=\"joinBattle\">Join Battle</button></div>');\r\n\t\t}\r\n\t\tif (!this.battle.p2.name) {\r\n\t\t\tthis.$battle.append('<div class=\"playbutton2\"><button name=\"joinBattle\">Join Battle</button></div>');\r\n\t\t}\r\n\t}\r\n\thideJoinButtons() {\r\n\t\tif (!this.battle.joinButtons) return;\r\n\t\tthis.$battle.find('.playbutton1, .playbutton2').remove();\r\n\t}\r\n\r\n\tpseudoWeatherLeft(pWeather: WeatherState) {\r\n\t\tlet buf = '<br />' + Dex.moves.get(pWeather[0]).name;\r\n\t\tif (!pWeather[1] && pWeather[2]) {\r\n\t\t\tpWeather[1] = pWeather[2];\r\n\t\t\tpWeather[2] = 0;\r\n\t\t}\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return buf;\r\n\t\tif (pWeather[2]) {\r\n\t\t\treturn buf + ' <small>(' + pWeather[1] + ' or ' + pWeather[2] + ' turns)</small>';\r\n\t\t}\r\n\t\tif (pWeather[1]) {\r\n\t\t\treturn buf + ' <small>(' + pWeather[1] + ' turn' + (pWeather[1] === 1 ? '' : 's') + ')</small>';\r\n\t\t}\r\n\t\treturn buf; // weather not found\r\n\t}\r\n\tsideConditionLeft(cond: [string, number, number, number], isFoe: boolean, all?: boolean) {\r\n\t\tif (!cond[2] && !cond[3] && !all) return '';\r\n\t\tlet buf = `<br />${isFoe && !all ? \"Foe's \" : \"\"}${Dex.moves.get(cond[0]).name}`;\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return buf;\r\n\r\n\t\tif (!cond[2] && !cond[3]) return buf;\r\n\t\tif (!cond[2] && cond[3]) {\r\n\t\t\tcond[2] = cond[3];\r\n\t\t\tcond[3] = 0;\r\n\t\t}\r\n\t\tif (!cond[3]) {\r\n\t\t\treturn buf + ' <small>(' + cond[2] + ' turn' + (cond[2] === 1 ? '' : 's') + ')</small>';\r\n\t\t}\r\n\t\treturn buf + ' <small>(' + cond[2] + ' or ' + cond[3] + ' turns)</small>';\r\n\t}\r\n\tweatherLeft() {\r\n\t\tif (this.battle.gen < 7 && this.battle.hardcoreMode) return '';\r\n\r\n\t\tlet weatherhtml = ``;\r\n\r\n\t\tif (this.battle.weather) {\r\n\t\t\tconst weatherNameTable: {[id: string]: string} = {\r\n\t\t\t\tsunnyday: 'Sun',\r\n\t\t\t\tdesolateland: 'Intense Sun',\r\n\t\t\t\traindance: 'Rain',\r\n\t\t\t\tprimordialsea: 'Heavy Rain',\r\n\t\t\t\tsandstorm: 'Sandstorm',\r\n\t\t\t\thail: 'Hail',\r\n\t\t\t\tmiasma: 'Miasma',\r\n\t\t\t\tshadowsky: 'Shadow Sky',\r\n\t\t\t\tdeltastream: 'Strong Winds',\r\n\t\t\t};\r\n\t\t\tweatherhtml = `${weatherNameTable[this.battle.weather] || this.battle.weather}`;\r\n\t\t\tif (this.battle.weatherMinTimeLeft !== 0) {\r\n\t\t\t\tweatherhtml += ` <small>(${this.battle.weatherMinTimeLeft} or ${this.battle.weatherTimeLeft} turns)</small>`;\r\n\t\t\t} else if (this.battle.weatherTimeLeft !== 0) {\r\n\t\t\t\tweatherhtml += ` <small>(${this.battle.weatherTimeLeft} turn${this.battle.weatherTimeLeft === 1 ? '' : 's'})</small>`;\r\n\t\t\t}\r\n\t\t\tconst nullifyWeather = this.battle.abilityActive(['Air Lock', 'Cloud Nine']);\r\n\t\t\tweatherhtml = `${nullifyWeather ? '<s>' : ''}${weatherhtml}${nullifyWeather ? '</s>' : ''}`;\r\n\t\t}\r\n\r\n\t\tfor (const pseudoWeather of this.battle.pseudoWeather) {\r\n\t\t\tweatherhtml += this.pseudoWeatherLeft(pseudoWeather);\r\n\t\t}\r\n\r\n\t\treturn weatherhtml;\r\n\t}\r\n\tsideConditionsLeft(side: Side, all?: boolean) {\r\n\t\tlet buf = ``;\r\n\t\tfor (const id in side.sideConditions) {\r\n\t\t\tbuf += this.sideConditionLeft(side.sideConditions[id], side.isFar, all);\r\n\t\t}\r\n\t\treturn buf;\r\n\t}\r\n\tupkeepWeather() {\r\n\t\tconst isIntense = ['desolateland', 'primordialsea', 'deltastream', 'shadowsky'].includes(this.curWeather);\r\n\t\tthis.$weather.animate({\r\n\t\t\topacity: 1.0,\r\n\t\t}, 300).animate({\r\n\t\t\topacity: isIntense ? 0.9 : 0.5,\r\n\t\t}, 300);\r\n\t}\r\n\tupdateWeather(instant?: boolean) {\r\n\t\tif (!this.animating) return;\r\n\t\tlet isIntense = false;\r\n\t\tlet weather = this.battle.weather;\r\n\t\tif (this.battle.abilityActive(['Air Lock', 'Cloud Nine'])) {\r\n\t\t\tweather = '' as ID;\r\n\t\t}\r\n\t\tlet terrain = '' as ID;\r\n\t\tfor (const pseudoWeatherData of this.battle.pseudoWeather) {\r\n\t\t\tlet pwid = toID(pseudoWeatherData[0]);\r\n\t\t\tswitch (pwid) {\r\n\t\t\tcase 'electricterrain':\r\n\t\t\tcase 'grassyterrain':\r\n\t\t\tcase 'mistyterrain':\r\n\t\t\tcase 'psychicterrain':\r\n\t\t\t\tterrain = pwid;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tif (!terrain) terrain = 'pseudo' as ID;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (weather === 'desolateland' || weather === 'primordialsea' || weather === 'shadowsky' || weather === 'deltastream') {\r\n\t\t\tisIntense = true;\r\n\t\t}\r\n\r\n\t\tlet weatherhtml = this.weatherLeft();\r\n\t\tfor (const side of this.battle.sides) {\r\n\t\t\tweatherhtml += this.sideConditionsLeft(side);\r\n\t\t}\r\n\t\tif (weatherhtml) weatherhtml = `<br />` + weatherhtml;\r\n\r\n\t\tif (instant) {\r\n\t\t\tthis.$weather.html('<em>' + weatherhtml + '</em>');\r\n\t\t\tif (this.curWeather === weather && this.curTerrain === terrain) return;\r\n\t\t\tthis.$terrain.attr('class', terrain ? 'weather ' + terrain + 'weather' : 'weather');\r\n\t\t\tthis.curTerrain = terrain;\r\n\t\t\tthis.$weather.attr('class', weather ? 'weather ' + weather + 'weather' : 'weather');\r\n\t\t\tthis.$weather.css('opacity', isIntense || !weather ? 0.9 : 0.5);\r\n\t\t\tthis.curWeather = weather;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (weather !== this.curWeather) {\r\n\t\t\tthis.$weather.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, this.curWeather ? 300 : 100, () => {\r\n\t\t\t\tthis.$weather.html('<em>' + weatherhtml + '</em>');\r\n\t\t\t\tthis.$weather.attr('class', weather ? 'weather ' + weather + 'weather' : 'weather');\r\n\t\t\t\tthis.$weather.animate({opacity: isIntense || !weather ? 0.9 : 0.5}, 300);\r\n\t\t\t});\r\n\t\t\tthis.curWeather = weather;\r\n\t\t} else {\r\n\t\t\tthis.$weather.html('<em>' + weatherhtml + '</em>');\r\n\t\t}\r\n\r\n\t\tif (terrain !== this.curTerrain) {\r\n\t\t\tthis.$terrain.animate({\r\n\t\t\t\ttop: 360,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, this.curTerrain ? 400 : 1, () => {\r\n\t\t\t\tthis.$terrain.attr('class', terrain ? 'weather ' + terrain + 'weather' : 'weather');\r\n\t\t\t\tthis.$terrain.animate({top: 0, opacity: 1}, 400);\r\n\t\t\t});\r\n\t\t\tthis.curTerrain = terrain;\r\n\t\t}\r\n\t}\r\n\tresetTurn() {\r\n\t\tif (this.battle.turn <= 0) {\r\n\t\t\tthis.$turn.html('');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.$turn.html('<div class=\"turn has-tooltip\" data-tooltip=\"field\" data-ownheight=\"1\">Turn ' + this.battle.turn + '</div>');\r\n\t}\r\n\tincrementTurn() {\r\n\t\tif (!this.animating) return;\r\n\r\n\t\tconst turn = this.battle.turn;\r\n\t\tif (turn <= 0) return;\r\n\t\tconst $prevTurn = this.$turn.children();\r\n\t\tconst $newTurn = $('<div class=\"turn has-tooltip\" data-tooltip=\"field\" data-ownheight=\"1\">Turn ' + turn + '</div>');\r\n\t\t$newTurn.css({\r\n\t\t\topacity: 0,\r\n\t\t\tleft: 160,\r\n\t\t});\r\n\t\tthis.$turn.append($newTurn);\r\n\t\t$newTurn.animate({\r\n\t\t\topacity: 1,\r\n\t\t\tleft: 110,\r\n\t\t}, 500).animate({\r\n\t\t\topacity: .4,\r\n\t\t}, 1500);\r\n\t\t$prevTurn.animate({\r\n\t\t\topacity: 0,\r\n\t\t\tleft: 60,\r\n\t\t}, 500, () => {\r\n\t\t\t$prevTurn.remove();\r\n\t\t});\r\n\t\tthis.updateAcceleration();\r\n\t\tthis.wait(500 / this.acceleration);\r\n\t}\r\n\tupdateAcceleration() {\r\n\t\tif (this.battle.turnsSinceMoved > 2) {\r\n\t\t\tthis.acceleration = (this.battle.messageFadeTime < 150 ? 2 : 1) * Math.min(this.battle.turnsSinceMoved - 1, 3);\r\n\t\t} else {\r\n\t\t\tthis.acceleration = (this.battle.messageFadeTime < 150 ? 2 : 1);\r\n\t\t\tif (this.battle.messageFadeTime < 50) this.acceleration = 3;\r\n\t\t}\r\n\t}\r\n\r\n\taddPokemonSprite(pokemon: Pokemon) {\r\n\t\tconst sprite = new PokemonSprite(Dex.getSpriteData(pokemon, pokemon.side.isFar, {\r\n\t\t\tgen: this.gen,\r\n\t\t\tmod: this.mod,\r\n\t\t}), {\r\n\t\t\tx: pokemon.side.x,\r\n\t\t\ty: pokemon.side.y,\r\n\t\t\tz: pokemon.side.z,\r\n\t\t\topacity: 0,\r\n\t\t}, this, pokemon.side.isFar);\r\n\t\tif (sprite.$el) this.$sprites[+pokemon.side.isFar].append(sprite.$el);\r\n\t\treturn sprite;\r\n\t}\r\n\r\n\taddSideCondition(siden: number, id: ID, instant?: boolean) {\r\n\t\tif (!this.animating) return;\r\n\t\tconst side = this.battle.sides[siden];\r\n\t\tconst spriteIndex = +side.isFar;\r\n\t\tswitch (id) {\r\n\t\tcase 'auroraveil':\r\n\t\t\tconst auroraveil = new Sprite(BattleEffects.auroraveil, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: side.x,\r\n\t\t\t\ty: side.y,\r\n\t\t\t\tz: side.behind(-14),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(auroraveil.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [auroraveil];\r\n\t\t\tauroraveil.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'reflect':\r\n\t\t\tconst reflect = new Sprite(BattleEffects.reflect, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: side.x,\r\n\t\t\t\ty: side.y,\r\n\t\t\t\tz: side.behind(-17),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(reflect.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [reflect];\r\n\t\t\treflect.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'safeguard':\r\n\t\t\tconst safeguard = new Sprite(BattleEffects.safeguard, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: side.x,\r\n\t\t\t\ty: side.y,\r\n\t\t\t\tz: side.behind(-20),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(safeguard.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [safeguard];\r\n\t\t\tsafeguard.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'lightscreen':\r\n\t\t\tconst lightscreen = new Sprite(BattleEffects.lightscreen, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: side.x,\r\n\t\t\t\ty: side.y,\r\n\t\t\t\tz: side.behind(-23),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(lightscreen.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [lightscreen];\r\n\t\t\tlightscreen.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'mist':\r\n\t\t\tconst mist = new Sprite(BattleEffects.mist, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: side.x,\r\n\t\t\t\ty: side.y,\r\n\t\t\t\tz: side.behind(-27),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(mist.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [mist];\r\n\t\t\tmist.anim({\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'stealthrock':\r\n\t\t\tconst rock1 = new Sprite(BattleEffects.rock1, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: side.leftof(-40),\r\n\t\t\t\ty: side.y - 10,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t}, this);\r\n\r\n\t\t\tconst rock2 = new Sprite(BattleEffects.rock2, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: side.leftof(-20),\r\n\t\t\t\ty: side.y - 40,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t}, this);\r\n\r\n\t\t\tconst rock3 = new Sprite(BattleEffects.rock1, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: side.leftof(30),\r\n\t\t\t\ty: side.y - 20,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t}, this);\r\n\r\n\t\t\tconst rock4 = new Sprite(BattleEffects.rock2, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: side.leftof(10),\r\n\t\t\t\ty: side.y - 30,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock1.$el!);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock2.$el!);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock3.$el!);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(rock4.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [rock1, rock2, rock3, rock4];\r\n\t\t\tbreak;\r\n\t\tcase 'gmaxsteelsurge':\r\n\t\t\tconst surge1 = new Sprite(BattleEffects.greenmetal1, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: side.leftof(-30),\r\n\t\t\t\ty: side.y - 20,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.8,\r\n\t\t\t}, this);\r\n\t\t\tconst surge2 = new Sprite(BattleEffects.greenmetal2, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: side.leftof(35),\r\n\t\t\t\ty: side.y - 15,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.8,\r\n\t\t\t}, this);\r\n\t\t\tconst surge3 = new Sprite(BattleEffects.greenmetal1, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: side.leftof(50),\r\n\t\t\t\ty: side.y - 10,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tscale: 0.8,\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis.$spritesFront[spriteIndex].append(surge1.$el!);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(surge2.$el!);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(surge3.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [surge1, surge2, surge3];\r\n\t\t\tbreak;\r\n\t\tcase 'spikes':\r\n\t\t\tlet spikeArray = this.sideConditions[siden]['spikes'];\r\n\t\t\tif (!spikeArray) {\r\n\t\t\t\tspikeArray = [];\r\n\t\t\t\tthis.sideConditions[siden]['spikes'] = spikeArray;\r\n\t\t\t}\r\n\t\t\tlet levels = this.battle.sides[siden].sideConditions['spikes'][1];\r\n\t\t\tif (spikeArray.length < 1 && levels >= 1) {\r\n\t\t\t\tconst spike1 = new Sprite(BattleEffects.caltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: side.x - 25,\r\n\t\t\t\t\ty: side.y - 40,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(spike1.$el!);\r\n\t\t\t\tspikeArray.push(spike1);\r\n\t\t\t}\r\n\t\t\tif (spikeArray.length < 2 && levels >= 2) {\r\n\t\t\t\tconst spike2 = new Sprite(BattleEffects.caltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: side.x + 30,\r\n\t\t\t\t\ty: side.y - 45,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: .3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(spike2.$el!);\r\n\t\t\t\tspikeArray.push(spike2);\r\n\t\t\t}\r\n\t\t\tif (spikeArray.length < 3 && levels >= 3) {\r\n\t\t\t\tconst spike3 = new Sprite(BattleEffects.caltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: side.x + 50,\r\n\t\t\t\t\ty: side.y - 40,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: .3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(spike3.$el!);\r\n\t\t\t\tspikeArray.push(spike3);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'toxicspikes':\r\n\t\t\tlet tspikeArray = this.sideConditions[siden]['toxicspikes'];\r\n\t\t\tif (!tspikeArray) {\r\n\t\t\t\ttspikeArray = [];\r\n\t\t\t\tthis.sideConditions[siden]['toxicspikes'] = tspikeArray;\r\n\t\t\t}\r\n\t\t\tlet tspikeLevels = this.battle.sides[siden].sideConditions['toxicspikes'][1];\r\n\t\t\tif (tspikeArray.length < 1 && tspikeLevels >= 1) {\r\n\t\t\t\tconst tspike1 = new Sprite(BattleEffects.poisoncaltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: side.x + 5,\r\n\t\t\t\t\ty: side.y - 40,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(tspike1.$el!);\r\n\t\t\t\ttspikeArray.push(tspike1);\r\n\t\t\t}\r\n\t\t\tif (tspikeArray.length < 2 && tspikeLevels >= 2) {\r\n\t\t\t\tconst tspike2 = new Sprite(BattleEffects.poisoncaltrop, {\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\tx: side.x - 15,\r\n\t\t\t\t\ty: side.y - 35,\r\n\t\t\t\t\tz: side.z,\r\n\t\t\t\t\tscale: .3,\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.$spritesFront[spriteIndex].append(tspike2.$el!);\r\n\t\t\t\ttspikeArray.push(tspike2);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'stickyweb':\r\n\t\t\tconst web = new Sprite(BattleEffects.web, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: side.x + 15,\r\n\t\t\t\ty: side.y - 35,\r\n\t\t\t\tz: side.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t}, this);\r\n\t\t\tthis.$spritesFront[spriteIndex].append(web.$el!);\r\n\t\t\tthis.sideConditions[siden][id] = [web];\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tremoveSideCondition(siden: number, id: ID) {\r\n\t\tif (!this.animating) return;\r\n\t\tif (this.sideConditions[siden][id]) {\r\n\t\t\tfor (const sprite of this.sideConditions[siden][id]) sprite.destroy();\r\n\t\t\tdelete this.sideConditions[siden][id];\r\n\t\t}\r\n\t}\r\n\tresetSideConditions() {\r\n\t\tfor (let siden = 0; siden < this.sideConditions.length; siden++) {\r\n\t\t\tfor (const id in this.sideConditions[siden]) {\r\n\t\t\t\tthis.removeSideCondition(siden, id as ID);\r\n\t\t\t}\r\n\t\t\tfor (const id in this.battle.sides[siden].sideConditions) {\r\n\t\t\t\tthis.addSideCondition(siden, id as ID, true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttypeAnim(pokemon: Pokemon, types: string) {\r\n\t\tconst result = BattleLog.escapeHTML(types).split('/').map(type =>\r\n\t\t\t'<img src=\"' + Dex.resourcePrefix + 'sprites/types/' + type + '.png\" alt=\"' + type + '\" class=\"pixelated\" />'\r\n\t\t).join(' ');\r\n\t\tthis.resultAnim(pokemon, result, 'neutral');\r\n\t}\r\n\tresultAnim(pokemon: Pokemon, result: string, type: 'bad' | 'good' | 'neutral' | StatusName) {\r\n\t\tif (!this.animating) return;\r\n\t\tlet $effect = $('<div class=\"result ' + type + 'result\"><strong>' + result + '</strong></div>');\r\n\t\tthis.$fx.append($effect);\r\n\t\t$effect.delay(this.timeOffset).css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\topacity: 0,\r\n\t\t\ttop: pokemon.sprite.top - 5,\r\n\t\t\tleft: pokemon.sprite.left - 75,\r\n\t\t}).animate({\r\n\t\t\topacity: 1,\r\n\t\t}, 1);\r\n\t\t$effect.animate({\r\n\t\t\topacity: 0,\r\n\t\t\ttop: pokemon.sprite.top - 65,\r\n\t\t}, 1000, 'swing');\r\n\t\tthis.wait(this.acceleration < 2 ? 350 : 250);\r\n\t\tpokemon.sprite.updateStatbar(pokemon);\r\n\t\tif (this.acceleration < 3) this.waitFor($effect);\r\n\t}\r\n\tabilityActivateAnim(pokemon: Pokemon, result: string) {\r\n\t\tif (!this.animating) return;\r\n\t\tthis.$fx.append('<div class=\"result abilityresult\"><strong>' + result + '</strong></div>');\r\n\t\tlet $effect = this.$fx.children().last();\r\n\t\t$effect.delay(this.timeOffset).css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\topacity: 0,\r\n\t\t\ttop: pokemon.sprite.top + 15,\r\n\t\t\tleft: pokemon.sprite.left - 75,\r\n\t\t}).animate({\r\n\t\t\topacity: 1,\r\n\t\t}, 1);\r\n\t\t$effect.delay(800).animate({\r\n\t\t\topacity: 0,\r\n\t\t}, 400, 'swing');\r\n\t\tthis.wait(100);\r\n\t\tpokemon.sprite.updateStatbar(pokemon);\r\n\t\tif (this.acceleration < 3) this.waitFor($effect);\r\n\t}\r\n\tdamageAnim(pokemon: Pokemon, damage: number | string) {\r\n\t\tif (!this.animating) return;\r\n\t\tif (!pokemon.sprite.$statbar) return;\r\n\t\tpokemon.sprite.updateHPText(pokemon);\r\n\r\n\t\tlet $hp = pokemon.sprite.$statbar.find('div.hp');\r\n\t\tlet w = pokemon.hpWidth(150);\r\n\t\tlet hpcolor = BattleScene.getHPColor(pokemon);\r\n\t\tlet callback;\r\n\t\tif (hpcolor === 'y') {\r\n\t\t\tcallback = () => { $hp.addClass('hp-yellow'); };\r\n\t\t}\r\n\t\tif (hpcolor === 'r') {\r\n\t\t\tcallback = () => { $hp.addClass('hp-yellow hp-red'); };\r\n\t\t}\r\n\r\n\t\tif (damage === '100%' && pokemon.hp > 0) damage = '99%';\r\n\t\tthis.resultAnim(pokemon, this.battle.hardcoreMode ? 'Damage' : '&minus;' + damage, 'bad');\r\n\r\n\t\t$hp.animate({\r\n\t\t\twidth: w,\r\n\t\t\t'border-right-width': w ? 1 : 0,\r\n\t\t}, 350, callback);\r\n\t}\r\n\thealAnim(pokemon: Pokemon, damage: number | string) {\r\n\t\tif (!this.animating) return;\r\n\t\tif (!pokemon.sprite.$statbar) return;\r\n\t\tpokemon.sprite.updateHPText(pokemon);\r\n\r\n\t\tlet $hp = pokemon.sprite.$statbar.find('div.hp');\r\n\t\tlet w = pokemon.hpWidth(150);\r\n\t\tlet hpcolor = BattleScene.getHPColor(pokemon);\r\n\t\tlet callback;\r\n\t\tif (hpcolor === 'g') {\r\n\t\t\tcallback = () => { $hp.removeClass('hp-yellow hp-red'); };\r\n\t\t}\r\n\t\tif (hpcolor === 'y') {\r\n\t\t\tcallback = () => { $hp.removeClass('hp-red'); };\r\n\t\t}\r\n\r\n\t\tthis.resultAnim(pokemon, this.battle.hardcoreMode ? 'Heal' : '+' + damage, 'good');\r\n\r\n\t\t$hp.animate({\r\n\t\t\twidth: w,\r\n\t\t\t'border-right-width': w ? 1 : 0,\r\n\t\t}, 350, callback);\r\n\t}\r\n\r\n\t// Sprite methods\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\tremoveEffect(pokemon: Pokemon, id: ID, instant?: boolean) {\r\n\t\treturn pokemon.sprite.removeEffect(id, instant);\r\n\t}\r\n\taddEffect(pokemon: Pokemon, id: ID, instant?: boolean) {\r\n\t\treturn pokemon.sprite.addEffect(id, instant);\r\n\t}\r\n\tanimSummon(pokemon: Pokemon, slot: number, instant?: boolean) {\r\n\t\treturn pokemon.sprite.animSummon(pokemon, slot, instant);\r\n\t}\r\n\tanimUnsummon(pokemon: Pokemon, instant?: boolean) {\r\n\t\treturn pokemon.sprite.animUnsummon(pokemon, instant);\r\n\t}\r\n\tanimDragIn(pokemon: Pokemon, slot: number) {\r\n\t\treturn pokemon.sprite.animDragIn(pokemon, slot);\r\n\t}\r\n\tanimDragOut(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.animDragOut(pokemon);\r\n\t}\r\n\tupdateStatbar(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) {\r\n\t\treturn pokemon.sprite.updateStatbar(pokemon, updatePrevhp, updateHp);\r\n\t}\r\n\tupdateStatbarIfExists(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) {\r\n\t\treturn pokemon.sprite.updateStatbarIfExists(pokemon, updatePrevhp, updateHp);\r\n\t}\r\n\tanimTransform(pokemon: Pokemon, isCustomAnim?: boolean, isPermanent?: boolean) {\r\n\t\treturn pokemon.sprite.animTransform(pokemon, isCustomAnim, isPermanent);\r\n\t}\r\n\tclearEffects(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.clearEffects();\r\n\t}\r\n\tremoveTransform(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.removeTransform();\r\n\t}\r\n\tanimFaint(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.animFaint(pokemon);\r\n\t}\r\n\tanimReset(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.animReset();\r\n\t}\r\n\tanim(pokemon: Pokemon, end: ScenePos, transition?: string) {\r\n\t\treturn pokemon.sprite.anim(end, transition);\r\n\t}\r\n\tbeforeMove(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.beforeMove();\r\n\t}\r\n\tafterMove(pokemon: Pokemon) {\r\n\t\treturn pokemon.sprite.afterMove();\r\n\t}\r\n\r\n\t// Misc\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\tsetFrameHTML(html: any) {\r\n\t\tthis.customControls = true;\r\n\t\tthis.$frame.html(html);\r\n\t}\r\n\tsetControlsHTML(html: any) {\r\n\t\tthis.customControls = true;\r\n\t\tlet $controls = this.$frame.parent().children('.battle-controls');\r\n\t\t$controls.html(html);\r\n\t}\r\n\r\n\tpreloadImage(url: string) {\r\n\t\tlet token = url.replace(/\\.(gif|png)$/, '').replace(/\\//g, '-');\r\n\t\tif (this.preloadCache[token]) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.preloadNeeded++;\r\n\t\tthis.preloadCache[token] = new Image();\r\n\t\tthis.preloadCache[token].onload = () => {\r\n\t\t\tthis.preloadDone++;\r\n\t\t};\r\n\t\tthis.preloadCache[token].src = url;\r\n\t}\r\n\tpreloadEffects() {\r\n\t\tfor (let i in BattleEffects) {\r\n\t\t\tif (i === 'alpha' || i === 'teal' || i === 'cerise' || i === 'craftsman' || i === 'omega') continue;\r\n\t\t\tconst url = BattleEffects[i].url;\r\n\t\t\tif (url) this.preloadImage(url);\r\n\t\t}\r\n\t\tthis.preloadImage(Dex.resourcePrefix + 'sprites/ani/substitute.gif');\r\n\t\tthis.preloadImage(Dex.resourcePrefix + 'sprites/ani-back/substitute.gif');\r\n\t}\r\n\trollBgm() {\r\n\t\tthis.setBgm(1 + this.numericId % 25);\r\n\t}\r\n\tsetBgm(bgmNum: number) {\r\n\t\tif (this.bgmNum === bgmNum) return;\r\n\t\tthis.bgmNum = bgmNum;\r\n\r\n\t\tswitch (bgmNum) {\r\n\t\t\tcase -9:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/team-aqua.mp3', 17293, 106451, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -2:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/xd-miror-b.mp3', 9000, 57815, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -3:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/colosseum-miror-b.mp3', 896, 47462, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -4:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/colosseum-first-battle.mp3', 10538, 57255, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -5:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/kahuna-battle.mp3', 37195, 135644, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -6:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/contest-beauty.mp3', 3000, 90965, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -7:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/pbr-joe.mp3', 9765, 93800, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -8:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/battle-royale.mp3', 14950, 74000, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -89:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/hgss-gym-leader.mp3', 20319, 82910, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -90:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/pokecenter.mp3', 21127, 97330, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -91:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/ferrum-stadium.mp3', 12561, 112299, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -92:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/training-gym.mp3', 34957, 149397, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -93:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/aqua-leader.mp3', 56039, 112139, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -94:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/sv-penny.mp3', 48902, 197473, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -95:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/neos-city-night.mp3', 46920, 166926, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -96:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/neos-city.mp3', 14492, 119725, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -97:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/neon-colosseum.mp3', 16500, 70945, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -98:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/pbr-courtyard.mp3', 32617, 140847, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -99:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/tellur-autumn.mp3', 13953, 124465, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -100:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/legends-giratina.mp3', 63081, 258135, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -101:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/hgss-johto-gym-leader.mp3', 30449, 90174, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -102:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/dungeon1-conquest.mp3', 3764, 78786, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -103:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/newyear-masters.mp3', 34321, 87458, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -104:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/hgss-hooh.mp3', 40622, 108343, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -105:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw2-plasma.mp3', 14294, 101587, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -106:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/pbr-sunnypark.mp3', 3787, 93456, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -107:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/sv-aceacademy.mp3', 1258, 160450, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -108:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/masters-hoenngymleader.mp3', 12467, 87536, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -109:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/conquest-ghost-battle.mp3', 15292, 130248, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -110:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/conquest-dark-battle.mp3', 51483, 166841, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -111:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/masters-team-break.mp3', 41520, 108427, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -112:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/pbr-gateway.mp3', 14115, 81375, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -113:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/pbr-stargazer.mp3', 27357, 83427, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -114:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/thalia-beach.mp3', 16209, 109854, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -115:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/conquest-psychic-battle.mp3', 24009, 114013, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -116:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/conquest-bug-battle.mp3', 73481, 174468, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -117:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/pbr-kruger.mp3', 29330, 58135, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -118:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/regi-ruins.mp3', 12903, 130675, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -119:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/phos-volcano.mp3', 51777, 142119, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -120:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/masters-lear.mp3', 50211, 122210, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -121:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/cipher-admin-xd.mp3', 7889, 59606, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -122:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/colosseum-normal-battle.mp3', 2894, 52162, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -123:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/final-battle-xd.mp3', 28400, 124030, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -124:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/battle-sim-xd.mp3', 21576, 72790, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -125:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/shadow-lugia.mp3', 10200, 76630, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -126:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/cipher-admin.mp3', 48150, 120700, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -127:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/final-battle-cipher.mp3', 8311, 72255, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -128:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/kahuna-battle-2.mp3', 82243, 143791, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -129:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/conquest-normal-battle.mp3', 14029, 105029, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -130:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/dragons-nest.mp3', 5599, 131184, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -131:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/oras-zinnia.mp3', 57774, 191856, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -132:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/sv-champion-kieran.mp3', 53784, 150595, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -133:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/sm-wild-pokemon.mp3', 17027, 69771, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -134:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/sv-ai.mp3', 24325, 186314, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -135:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/rumbleu-kyuremblack.mp3', 4585, 68587, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -136:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/dark-colo.mp3', 6816, 107573, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -137:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/usum-giovanni.mp3', 16795, 109918, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -138:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/swsh-rose.mp3', 49622, 129804, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -139:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/dark-colo-final.mp3', 7212, 115212, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase -140:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/masters-rose.mp3', 36392, 95174, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw-subway-trainer.mp3', 15503, 110984, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/sm-rival.mp3', 11389, 62158, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/cipher-peon.mp3', 7800, 80000, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/sm-trainer.mp3', 8323, 89230, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/swsh-hop.mp3', 12450, 100850, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/colosseum-normal-battle.mp3', 2894, 52162, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 7:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/cipher-peon-xd.mp3', 39539, 79026, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 8:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/swsh-oleana.mp3', 14950, 82700, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 9:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/xy-rival.mp3', 7802, 58634, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 10:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/plat-frontier-brain.mp3', 15155, 103562, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 11:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/hgss-kanto-trainer.mp3', 13003, 94656, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 12:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/semifinal-battle-cipher.mp3', 20286, 98954, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 13:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/steel-battle.mp3', 29258, 121915, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 14:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/conquest-dragon-battle.mp3', 26817, 109162, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 15:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw-trainer.mp3', 14629, 110109, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 16:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/colosseum-miror-b.mp3', 896, 47462, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 17:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/xy-trainer.mp3', 7802, 82469, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 18:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/hgss-johto-trainer.mp3', 23731, 125086, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 19:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/oras-rival.mp3', 14303, 69149, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 20:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/oras-trainer.mp3', 13579, 91548, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 21:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/dpp-rival.mp3', 13888, 66352, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 22:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/eos-dialga.mp3', 20000, 120600, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 23:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw-rival.mp3', 19180, 57373, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 24:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/dpp-trainer.mp3', 13440, 96959, this.bgm);\r\n\t\t\tcase 25:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw2-kanto-gym-leader.mp3', 14626, 58986, this.bgm);\r\n\t\t\tdefault:\r\n\t\t\t\tthis.bgm = BattleSound.loadBgm('audio/bw2-rival.mp3', 7152, 68708, this.bgm);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\r\n\t\t\tthis.updateBgm();\r\n\t\t}\r\n\tupdateBgm() {\r\n\t\t/**\r\n\t\t * - not playing in non-battle RoomGames before `|start` (turn -1)\r\n\t\t * - not playing at team preview in replays (paused)\r\n\t\t * - playing at team preview in games (turn 0)\r\n\t\t * - playing during the game (turn 1+)\r\n\t\t * - not playing while paused\r\n\t\t * - playing while waiting for players to choose moves (atQueueEnd && !ended)\r\n\t\t * - not playing after the game has ended\r\n\t\t */\r\n\t\tconst nowPlaying = (\r\n\t\t\tthis.battle.turn >= 0 && !this.battle.ended && !this.battle.paused\r\n\t\t);\r\n\t\tif (nowPlaying) {\r\n\t\t\tif (!this.bgm) this.rollBgm();\r\n\t\t\tthis.bgm!.resume();\r\n\t\t} else if (this.bgm) {\r\n\t\t\tthis.bgm.pause();\r\n\t\t}\r\n\t}\r\n\tresetBgm() {\r\n\t\tif (this.bgm) this.bgm.stop();\r\n\t}\r\n\tdestroy() {\r\n\t\tthis.log.destroy();\r\n\t\tif (this.$frame) this.$frame.empty();\r\n\t\tif (this.bgm) {\r\n\t\t\tthis.bgm.destroy();\r\n\t\t\tthis.bgm = null;\r\n\t\t}\r\n\t\tthis.battle = null!;\r\n\t}\r\n\tstatic getHPColor(pokemon: {hp: number, maxhp: number}) {\r\n\t\tlet ratio = pokemon.hp / pokemon.maxhp;\r\n\t\tif (ratio > 0.5) return 'g';\r\n\t\tif (ratio > 0.2) return 'y';\r\n\t\treturn 'r';\r\n\t}\r\n}\r\n\r\ninterface ScenePos {\r\n\t/** - left, + right */\r\n\tx?: number;\r\n\t/** - down, + up */\r\n\ty?: number;\r\n\t/** - player, + opponent */\r\n\tz?: number;\r\n\tscale?: number;\r\n\txscale?: number;\r\n\tyscale?: number;\r\n\topacity?: number;\r\n\ttime?: number;\r\n\tdisplay?: string;\r\n}\r\ninterface InitScenePos {\r\n\tx: number;\r\n\ty: number;\r\n\tz: number;\r\n\tscale?: number;\r\n\txscale?: number;\r\n\tyscale?: number;\r\n\topacity?: number;\r\n\ttime?: number;\r\n\tdisplay?: string;\r\n}\r\n\r\nclass Sprite {\r\n\tscene: BattleScene;\r\n\t$el: JQuery = null!;\r\n\tsp: SpriteData;\r\n\tx: number;\r\n\ty: number;\r\n\tz: number;\r\n\tconstructor(spriteData: SpriteData | null, pos: InitScenePos, scene: BattleScene) {\r\n\t\tthis.scene = scene;\r\n\t\tlet sp = null;\r\n\t\tif (spriteData) {\r\n\t\t\tsp = spriteData;\r\n\t\t\tlet rawHTML = sp.rawHTML ||\r\n\t\t\t\t'<img src=\"' + sp.url + '\" style=\"display:none;position:absolute\"' + (sp.pixelated ? ' class=\"pixelated\"' : '') + ' />';\r\n\t\t\tthis.$el = $(rawHTML);\r\n\t\t} else {\r\n\t\t\tsp = {\r\n\t\t\t\tw: 0,\r\n\t\t\t\th: 0,\r\n\t\t\t\turl: '',\r\n\t\t\t};\r\n\t\t}\r\n\t\tthis.sp = sp;\r\n\r\n\t\tthis.x = pos.x;\r\n\t\tthis.y = pos.y;\r\n\t\tthis.z = pos.z;\r\n\t\tif (pos.opacity !== 0 && spriteData) this.$el!.css(scene.pos(pos, sp));\r\n\r\n\t\tif (!spriteData) {\r\n\t\t\tthis.delay = function () { return this; };\r\n\t\t\tthis.anim = function () { return this; };\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tif (this.$el) this.$el.remove();\r\n\t\tthis.$el = null!;\r\n\t\tthis.scene = null!;\r\n\t}\r\n\tdelay(time: number) {\r\n\t\tthis.$el!.delay(time);\r\n\t\treturn this;\r\n\t}\r\n\tanim(end: ScenePos, transition?: string) {\r\n\t\tend = {\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 1,\r\n\t\t\topacity: 1,\r\n\t\t\ttime: 500,\r\n\t\t\t...end,\r\n\t\t};\r\n\t\tif (end.time === 0) {\r\n\t\t\tthis.$el!.css(this.scene.pos(end, this.sp));\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tthis.$el!.animate(this.scene.posT(end, this.sp, transition, this), end.time!);\r\n\t\treturn this;\r\n\t}\r\n}\r\n\r\nclass PokemonSprite extends Sprite {\r\n\t// HTML strings are constructed from this table and stored back in it to cache them\r\n\tprotected static statusTable: {[id: string]: [string, 'good' | 'bad' | 'neutral'] | null | string} = {\r\n\t\tformechange: null,\r\n\t\ttypechange: null,\r\n\t\ttypeadd: null,\r\n\t\tdynamax: ['Dynamaxed', 'good'],\r\n\t\ttrapped: null, // linked volatiles are not implemented yet\r\n\t\tthroatchop: ['Throat Chop', 'bad'],\r\n\t\tconfusion: ['Confused', 'bad'],\r\n\t\thealblock: ['Heal Block', 'bad'],\r\n\t\tyawn: ['Drowsy', 'bad'],\r\n\t\tflashfire: ['Flash Fire', 'good'],\r\n\t\tluminesce: ['Luminesce', 'good'],\r\n\t\tinflate: ['Inflate', 'good'],\r\n\t\timprison: ['Imprisoning foe', 'good'],\r\n\t\tautotomize: ['Lightened', 'neutral'],\r\n\t\tmiracleeye: ['Miracle Eye', 'bad'],\r\n\t\tforesight: ['Foresight', 'bad'],\r\n\t\ttelekinesis: ['Telekinesis', 'neutral'],\r\n\t\ttransform: ['Transformed', 'neutral'],\r\n\t\tpowertrick: ['Power Trick', 'neutral'],\r\n\t\tcurse: ['Curse', 'bad'],\r\n\t\tretribution: ['Retribution', 'good'],\r\n\t\tnightmare: ['Nightmare', 'bad'],\r\n\t\tattract: ['Infatuation', 'bad'],\r\n\t\ttorment: ['Torment', 'bad'],\r\n\t\ttaunt: ['Taunt', 'bad'],\r\n\t\tdisable: ['Disable', 'bad'],\r\n\t\tembargo: ['Embargo', 'bad'],\r\n\t\tingrain: ['Ingrain', 'good'],\r\n\t\taquaring: ['Aqua Ring', 'good'],\r\n\t\tshadowfountain: ['Shadow Fountain', 'good'],\r\n\t\tstockpile1: ['Stockpile', 'good'],\r\n\t\tstockpile2: ['Stockpile&times;2', 'good'],\r\n\t\tstockpile3: ['Stockpile&times;3', 'good'],\r\n\t\tperish0: ['Perish now', 'bad'],\r\n\t\tperish1: ['Perish next turn', 'bad'],\r\n\t\tperish2: ['Perish in 2', 'bad'],\r\n\t\tperish3: ['Perish in 3', 'bad'],\r\n\t\tairballoon: ['Balloon', 'good'],\r\n\t\tleechseed: ['Leech Seed', 'bad'],\r\n\t\tencore: ['Encore', 'bad'],\r\n\t\tmustrecharge: ['Must recharge', 'bad'],\r\n\t\tbide: ['Bide', 'good'],\r\n\t\tmagnetrise: ['Magnet Rise', 'good'],\r\n\t\tsmackdown: ['Smack Down', 'bad'],\r\n\t\tfocusenergy: ['Critical Hit Boost', 'good'],\r\n\t\tslowstart: ['Slow Start', 'bad'],\r\n\t\tnoretreat: ['No Retreat', 'bad'],\r\n\t\toctolock: ['Octolock', 'bad'],\r\n\t\ttarshot: ['Tar Shot', 'bad'],\r\n\t\tdoomdesire: null,\r\n\t\tfuturesight: null,\r\n\t\tpropheticasteroid: null,\r\n\t\tshadowdoomsday: null,\r\n\t\tmimic: ['Mimic', 'good'],\r\n\t\twatersport: ['Water Sport', 'good'],\r\n\t\tmudsport: ['Mud Sport', 'good'],\r\n\t\tsubstitute: null,\r\n\t\t// sub graphics are handled elsewhere, see Battle.Sprite.animSub()\r\n\t\tuproar: ['Uproar', 'neutral'],\r\n\t\trage: ['Rage', 'neutral'],\r\n\t\troost: ['Landed', 'neutral'],\r\n\t\tprotect: ['Protect', 'good'],\r\n\t\tquickguard: ['Quick Guard', 'good'],\r\n\t\twideguard: ['Wide Guard', 'good'],\r\n\t\tcraftyshield: ['Crafty Shield', 'good'],\r\n\t\tmatblock: ['Mat Block', 'good'],\r\n\t\tmaxguard: ['Max Guard', 'good'],\r\n\t\thelpinghand: ['Helping Hand', 'good'],\r\n\t\tmagiccoat: ['Magic Coat', 'good'],\r\n\t\tdestinybond: ['Destiny Bond', 'good'],\r\n\t\tsnatch: ['Snatch', 'good'],\r\n\t\tgrudge: ['Grudge', 'good'],\r\n\t\tcharge: ['Charge', 'good'],\r\n\t\tendure: ['Endure', 'good'],\r\n\t\tfocuspunch: ['Focusing', 'neutral'],\r\n\t\tshelltrap: ['Trap set', 'neutral'],\r\n\t\tpowder: ['Powder', 'bad'],\r\n\t\telectrify: ['Electrify', 'bad'],\r\n\t\tragepowder: ['Rage Powder', 'good'],\r\n\t\tfollowme: ['Follow Me', 'good'],\r\n\t\tinstruct: ['Instruct', 'neutral'],\r\n\t\tbeakblast: ['Beak Blast', 'neutral'],\r\n\t\tlaserfocus: ['Laser Focus', 'good'],\r\n\t\tspotlight: ['Spotlight', 'neutral'],\r\n\t\titemremoved: null,\r\n\t\t// partial trapping\r\n\t\tbind: ['Bind', 'bad'],\r\n\t\tclamp: ['Clamp', 'bad'],\r\n\t\tfirespin: ['Fire Spin', 'bad'],\r\n\t\tinfestation: ['Infestation', 'bad'],\r\n\t\tmagmastorm: ['Magma Storm', 'bad'],\r\n\t\tbubbleprison: ['Bubble Prison', 'bad'],\r\n\t\tsandtomb: ['Sand Tomb', 'bad'],\r\n\t\tshadowhold: ['Shadow Hold', 'bad'],\r\n\t\tsilksnare: ['Silk Snare', 'bad'],\r\n\t\tsnaptrap: ['Snap Trap', 'bad'],\r\n\t\tspiderweb: ['Spider Web', 'bad'],\r\n\t\tsporeslash: ['Spore Slash', 'bad'],\r\n\t\tthundercage: ['Thunder Cage', 'bad'],\r\n\t\twhirlpool: ['Whirlpool', 'bad'],\r\n\t\twrap: ['Wrap', 'bad'],\r\n\t\t// Gen 1\r\n\t\tlightscreen: ['Light Screen', 'good'],\r\n\t\treflect: ['Reflect', 'good'],\r\n\t};\r\n\tforme = '';\r\n\tcryurl: string | undefined = undefined;\r\n\r\n\tsubsp: SpriteData | null = null;\r\n\t$sub: JQuery | null = null;\r\n\tisSubActive = false;\r\n\r\n\t$statbar: JQuery | null = null;\r\n\tisFrontSprite: boolean;\r\n\tisMissedPokemon = false;\r\n\t/**\r\n\t * If the pokemon is transformed, sprite.sp will be the transformed\r\n\t * SpriteData and sprite.oldsp will hold the original form's SpriteData\r\n\t */\r\n\toldsp: SpriteData | null = null;\r\n\r\n\tstatbarLeft = 0;\r\n\tstatbarTop = 0;\r\n\tleft = 0;\r\n\ttop = 0;\r\n\r\n\teffects: {[id: string]: Sprite[]} = {};\r\n\r\n\tconstructor(spriteData: SpriteData | null, pos: InitScenePos, scene: BattleScene, isFrontSprite: boolean) {\r\n\t\tsuper(spriteData, pos, scene);\r\n\t\tthis.cryurl = this.sp.cryurl;\r\n\t\tthis.isFrontSprite = isFrontSprite;\r\n\t}\r\n\tdestroy() {\r\n\t\tif (this.$el) this.$el.remove();\r\n\t\tthis.$el = null!;\r\n\t\tif (this.$statbar) this.$statbar.remove();\r\n\t\tthis.$statbar = null;\r\n\t\tif (this.$sub) this.$sub.remove();\r\n\t\tthis.$sub = null;\r\n\t\tthis.scene = null!;\r\n\t}\r\n\r\n\tdelay(time: number) {\r\n\t\tthis.$el.delay(time);\r\n\t\tif (this.$sub) this.$sub.delay(time);\r\n\t\treturn this;\r\n\t}\r\n\tanim(end: ScenePos, transition?: string) {\r\n\t\tend = {\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 1,\r\n\t\t\topacity: 1,\r\n\t\t\ttime: 500,\r\n\t\t\t...end,\r\n\t\t};\r\n\t\tconst [$el, sp] = (this.isSubActive ? [this.$sub!, this.subsp!] : [this.$el, this.sp]);\r\n\t\t$el.animate(this.scene.posT(end, sp, transition, this), end.time!);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tbehindx(offset: number) {\r\n\t\treturn this.x + (this.isFrontSprite ? 1 : -1) * offset;\r\n\t}\r\n\tbehindy(offset: number) {\r\n\t\treturn this.y + (this.isFrontSprite ? -1 : 1) * offset;\r\n\t}\r\n\tleftof(offset: number) {\r\n\t\treturn this.x + (this.isFrontSprite ? 1 : -1) * offset;\r\n\t}\r\n\tbehind(offset: number) {\r\n\t\treturn this.z + (this.isFrontSprite ? 1 : -1) * offset;\r\n\t}\r\n\r\n\tremoveTransform() {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (!this.oldsp) return;\r\n\t\tlet sp = this.oldsp;\r\n\t\tthis.cryurl = sp.cryurl;\r\n\t\tthis.sp = sp;\r\n\t\tthis.oldsp = null;\r\n\r\n\t\tconst $el = this.isSubActive ? this.$sub! : this.$el;\r\n\t\t$el.attr('src', sp.url!);\r\n\t\t$el.css(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: (this.isSubActive ? this.behind(30) : this.z),\r\n\t\t\topacity: (this.$sub ? .3 : 1),\r\n\t\t}, sp));\r\n\t}\r\n\tanimSub(instant?: boolean, noAnim?: boolean) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (this.$sub) return;\r\n\t\tconst subsp = Dex.getSpriteData('substitute', this.isFrontSprite, {\r\n\t\t\tgen: this.scene.gen,\r\n\t\t\tmod: this.scene.mod,\r\n\t\t});\r\n\t\tthis.subsp = subsp;\r\n\t\tthis.$sub = $('<img src=\"' + subsp.url + '\" style=\"display:block;opacity:0;position:absolute\"' + (subsp.pixelated ? ' class=\"pixelated\"' : '') + ' />');\r\n\t\tthis.scene.$spritesFront[+this.isFrontSprite].append(this.$sub);\r\n\t\tthis.isSubActive = true;\r\n\t\tif (instant) {\r\n\t\t\tif (!noAnim) this.animReset();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.behind(30),\r\n\t\t\topacity: 0.3,\r\n\t\t}, this.sp), 500);\r\n\t\tthis.$sub.css(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y + 50,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t}, subsp));\r\n\t\tthis.$sub.animate(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t}, subsp), 500);\r\n\t\tthis.scene.waitFor(this.$sub);\r\n\t}\r\n\tanimSubFade(instant?: boolean) {\r\n\t\tif (!this.$sub || !this.scene.animating) return;\r\n\t\tthis.isSubActive = false;\r\n\t\tif (instant) {\r\n\t\t\tthis.$sub.remove();\r\n\t\t\tthis.$sub = null;\r\n\t\t\tthis.animReset();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.scene.timeOffset) {\r\n\t\t\tthis.$el.delay(this.scene.timeOffset);\r\n\t\t\tthis.$sub.delay(this.scene.timeOffset);\r\n\t\t}\r\n\t\tthis.$sub.animate(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 50,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t}, this.subsp!), 500);\r\n\r\n\t\tthis.$sub = null;\r\n\t\tthis.anim({time: 500});\r\n\t\tif (this.scene.animating) this.scene.waitFor(this.$el);\r\n\t}\r\n\tbeforeMove() {\r\n\t\tif (!this.scene.animating) return false;\r\n\t\tif (!this.isSubActive) return false;\r\n\t\tthis.isSubActive = false;\r\n\t\tthis.anim({time: 300});\r\n\t\tthis.$sub!.animate(this.scene.pos({\r\n\t\t\tx: this.leftof(-50),\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0.5,\r\n\t\t}, this.subsp!), 300);\r\n\t\tfor (const side of this.scene.battle.sides) {\r\n\t\t\tfor (const active of side.active) {\r\n\t\t\t\tif (active && active.sprite !== this) {\r\n\t\t\t\t\tactive.sprite.delay(300);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.scene.wait(300);\r\n\t\tthis.scene.waitFor(this.$el);\r\n\r\n\t\treturn true;\r\n\t}\r\n\tafterMove() {\r\n\t\tif (!this.scene.animating) return false;\r\n\t\tif (!this.$sub || this.isSubActive) return false;\r\n\t\tthis.isSubActive = true;\r\n\t\tthis.$sub.delay(300);\r\n\t\tthis.$el.add(this.$sub).promise().done(() => {\r\n\t\t\tif (!this.$sub || !this.$el) return;\r\n\t\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(30),\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, this.sp), 300);\r\n\t\t\tthis.anim({time: 300});\r\n\t\t});\r\n\t\treturn false;\r\n\t}\r\n\tremoveSub() {\r\n\t\tif (!this.$sub) return;\r\n\t\tthis.isSubActive = false;\r\n\t\tif (!this.scene.animating) {\r\n\t\t\tthis.$sub.remove();\r\n\t\t} else {\r\n\t\t\tconst $sub = this.$sub;\r\n\t\t\t$sub.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, () => {\r\n\t\t\t\t$sub.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.$sub = null;\r\n\t}\r\n\treset(pokemon: Pokemon) {\r\n\t\tthis.clearEffects();\r\n\r\n\t\tif (pokemon.volatiles.formechange || pokemon.volatiles.dynamax) {\r\n\t\t\tif (!this.oldsp) this.oldsp = this.sp;\r\n\t\t\tthis.sp = Dex.getSpriteData(pokemon, this.isFrontSprite, {\r\n\t\t\t\tgen: this.scene.gen,\r\n\t\t\t\tmod: this.scene.mod,\r\n\t\t\t});\r\n\t\t} else if (this.oldsp) {\r\n\t\t\tthis.sp = this.oldsp;\r\n\t\t\tthis.oldsp = null;\r\n\t\t}\r\n\r\n\t\t// I can rant for ages about how jQuery sucks, necessitating this function\r\n\t\t// The short version is: after calling elem.finish() on an animating\r\n\t\t// element, there appear to be a grand total of zero ways to hide it\r\n\t\t// afterwards. I've tried `elem.css('display', 'none')`, `elem.hide()`,\r\n\t\t// `elem.hide(1)`, `elem.hide(1000)`, `elem.css('opacity', 0)`,\r\n\t\t// `elem.animate({opacity: 0}, 1000)`.\r\n\t\t// They literally all do nothing, and the element retains\r\n\t\t// a style attribute containing `display: inline-block` and `opacity: 1`\r\n\t\t// Only forcibly removing the element from the DOM actually makes it\r\n\t\t// disappear, so that's what we do.\r\n\t\tif (this.$el) {\r\n\t\t\tthis.$el.stop(true, false);\r\n\t\t\tthis.$el.remove();\r\n\t\t\tconst $newEl = $('<img src=\"' + this.sp.url + '\" style=\"display:none;position:absolute\"' + (this.sp.pixelated ? ' class=\"pixelated\"' : '') + ' />');\r\n\t\t\tthis.$el = $newEl;\r\n\t\t}\r\n\r\n\t\tif (!pokemon.isActive()) {\r\n\t\t\tif (this.$statbar) {\r\n\t\t\t\tthis.$statbar.remove();\r\n\t\t\t\tthis.$statbar = null;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.$el) this.scene.$sprites[+this.isFrontSprite].append(this.$el);\r\n\t\tthis.recalculatePos(pokemon.slot);\r\n\t\tthis.resetStatbar(pokemon);\r\n\t\tthis.$el.css(this.scene.pos({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t}, this.sp));\r\n\r\n\t\tfor (const id in pokemon.volatiles) this.addEffect(id as ID, true);\r\n\t\tfor (const id in pokemon.turnstatuses) this.addEffect(id as ID, true);\r\n\t\tfor (const id in pokemon.movestatuses) this.addEffect(id as ID, true);\r\n\t}\r\n\tanimReset() {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (this.$sub) {\r\n\t\t\tthis.isSubActive = true;\r\n\t\t\tthis.$el.stop(true, false);\r\n\t\t\tthis.$sub.stop(true, false);\r\n\t\t\tthis.$el.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(30),\r\n\t\t\t\topacity: .3,\r\n\t\t\t}, this.sp));\r\n\t\t\tthis.$sub.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t}, this.subsp!));\r\n\t\t} else {\r\n\t\t\tthis.$el.stop(true, false);\r\n\t\t\tthis.$el.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t}, this.sp));\r\n\t\t}\r\n\t}\r\n\trecalculatePos(slot: number) {\r\n\t\tlet moreActive = this.scene.activeCount - 1;\r\n\t\tlet statbarOffset = 0;\r\n\t\tconst isFFA = this.scene.battle.gameType === 'freeforall';\r\n\t\tif (isFFA) {\r\n\t\t\t// create a gap between Pokemon on the same \"side\" as a distinction between FFA and Multi battles\r\n\t\t\tmoreActive++;\r\n\t\t\tif (slot) slot++;\r\n\t\t}\r\n\t\tif (this.scene.gen <= 4 && moreActive) {\r\n\t\t\tthis.x = (slot - 0.52) * (this.isFrontSprite ? 1 : -1) * -55;\r\n\t\t\tthis.y = (this.isFrontSprite ? 1 : -1) + 1;\r\n\t\t\tif (this.isFrontSprite) statbarOffset = 30 * slot;\r\n\t\t\tif (!this.isFrontSprite) statbarOffset = -28 * slot;\r\n\t\t} else {\r\n\t\t\tswitch (moreActive) {\r\n\t\t\tcase 0:\r\n\t\t\t\tthis.x = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tif (this.sp.pixelated) {\r\n\t\t\t\t\tthis.x = (slot * -100 + 18) * (this.isFrontSprite ? 1 : -1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.x = (slot * -75 + 18) * (this.isFrontSprite ? 1 : -1);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.x = (slot * -70 + 20) * (this.isFrontSprite ? 1 : -1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthis.y = this.isFrontSprite ? slot * 7 : slot * -10;\r\n\t\t\tif (this.isFrontSprite) statbarOffset = 17 * slot;\r\n\t\t\tif (this.isFrontSprite && !moreActive && this.sp.pixelated) statbarOffset = 15;\r\n\t\t\tif (!this.isFrontSprite) statbarOffset = -7 * slot;\r\n\t\t\tif (this.isFrontSprite && moreActive === 2) statbarOffset = 14 * slot - 10;\r\n\t\t}\r\n\t\tif (this.scene.gen <= 2) {\r\n\t\t\tstatbarOffset += this.isFrontSprite ? 20 : 1;\r\n\t\t} else if (this.scene.gen <= 3) {\r\n\t\t\tstatbarOffset += this.isFrontSprite ? 30 : 5;\r\n\t\t} else if (this.scene.gen !== 5) {\r\n\t\t\tstatbarOffset += this.isFrontSprite ? 30 : 20;\r\n\t\t}\r\n\r\n\t\tlet pos = this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t}, {\r\n\t\t\tw: 0,\r\n\t\t\th: 96,\r\n\t\t});\r\n\t\tpos.top += 40;\r\n\r\n\t\tthis.left = pos.left;\r\n\t\tthis.top = pos.top;\r\n\t\tthis.statbarLeft = pos.left - 80;\r\n\t\tthis.statbarTop = pos.top - 73 - statbarOffset;\r\n\t\tif (this.statbarTop < -4) this.statbarTop = -4;\r\n\r\n\t\tif (moreActive) {\r\n\t\t\t// make sure element is in the right z-order\r\n\t\t\tif (!!slot === this.isFrontSprite) {\r\n\t\t\t\tthis.$el.prependTo(this.$el.parent());\r\n\t\t\t} else {\r\n\t\t\t\tthis.$el.appendTo(this.$el.parent());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tanimSummon(pokemon: Pokemon, slot: number, instant?: boolean) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tthis.scene.$sprites[+this.isFrontSprite].append(this.$el);\r\n\t\tthis.recalculatePos(slot);\r\n\r\n\t\t// 'z-index': (this.isFrontSprite ? 4-slot : 1+slot),\r\n\t\tif (instant) {\r\n\t\t\tthis.$el.css('display', 'block');\r\n\t\t\tthis.animReset();\r\n\t\t\tthis.resetStatbar(pokemon);\r\n\t\t\tif (pokemon.hasVolatile('substitute' as ID)) this.animSub(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.cryurl) {\r\n\t\t\tBattleSound.playEffect(this.cryurl);\r\n\t\t}\r\n\t\tthis.$el.css(this.scene.pos({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 10,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: 0,\r\n\t\t\topacity: 0,\r\n\t\t}, this.sp));\r\n\t\tthis.scene.showEffect('pokeball', {\r\n\t\t\topacity: 0,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y + 30,\r\n\t\t\tz: this.behind(50),\r\n\t\t\tscale: .7,\r\n\t\t}, {\r\n\t\t\topacity: 1,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 10,\r\n\t\t\tz: this.z,\r\n\t\t\ttime: 300 / this.scene.acceleration,\r\n\t\t}, 'ballistic2', 'fade');\r\n\t\tif (this.scene.gen <= 4) {\r\n\t\t\tthis.delay(this.scene.timeOffset + 300 / this.scene.acceleration).anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.delay(this.scene.timeOffset + 300 / this.scene.acceleration).anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y + 30,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t}).anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\ttime: 300 / this.scene.acceleration,\r\n\t\t\t}, 'accel');\r\n\t\t}\r\n\t\tif (this.sp.shiny && this.scene.acceleration < 2) BattleOtherAnims.shiny.anim(this.scene, [this]);\r\n\t\tthis.scene.waitFor(this.$el);\r\n\r\n\t\tif (pokemon.hasVolatile('substitute' as ID)) {\r\n\t\t\tthis.animSub(true, true);\r\n\t\t\tthis.$sub!.css(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t}, this.subsp!));\r\n\t\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(30),\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, this.sp), 300);\r\n\t\t}\r\n\r\n\t\t//Shadow Aura animation attempt\r\n\r\n\t\tif (!this.scene.animating) return;\r\n\t\tlet speciesid = toID(pokemon.getSpeciesForme());\r\n\t\tlet doCry = false;\r\n\t\tconst scene = this.scene;\r\n\t\t\tif (speciesid === 'dittoshadow' || speciesid === 'roboheeyemcurio' || speciesid === 'roboheeyemshadow' || speciesid === 'castformshadow' || speciesid === 'lugiashadow' || speciesid === 'articunoshadow' || speciesid === 'zapdosshadow' || speciesid === 'moltresshadow' || speciesid === 'longeonshadow' || speciesid === 'snoruntshadow' || speciesid === 'aronshadow' || speciesid === 'furfroushadow' || speciesid === 'garchompshadow' || speciesid === 'gourgeistshadow' || speciesid === 'heatmorshadow' || speciesid === 'lileepshadow' || speciesid === 'mareanieshadow' || speciesid === 'marillshadow' || speciesid === 'meowsticshadow' || speciesid === 'mukshadow' || speciesid === 'noivernshadow' || speciesid === 'shroomishshadow' || speciesid === 'spinarakshadow' || speciesid === 'ribombeeshadow' || speciesid === 'hoohshadow' || speciesid === 'jirachishadow') {\r\n\t\t\t\tBattleOtherAnims.shadowpokemon.anim(scene, [this]);\r\n\t\t}\r\n\r\n\t\tthis.resetStatbar(pokemon, true);\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tthis.$statbar!.css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tleft: this.statbarLeft,\r\n\t\t\ttop: this.statbarTop + 20,\r\n\t\t\topacity: 0,\r\n\t\t});\r\n\t\tthis.$statbar!.delay(300 / this.scene.acceleration).animate({\r\n\t\t\ttop: this.statbarTop,\r\n\t\t\topacity: 1,\r\n\t\t}, 400 / this.scene.acceleration);\r\n\r\n\t\tthis.dogarsCheck(pokemon);\r\n\t}\r\n\tanimDragIn(pokemon: Pokemon, slot: number) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tthis.scene.$sprites[+this.isFrontSprite].append(this.$el);\r\n\t\tthis.recalculatePos(slot);\r\n\r\n\t\t// 'z-index': (this.isFrontSprite ? 4-slot : 1+slot),\r\n\t\tthis.$el.css(this.scene.pos({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tx: this.leftof(-100),\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t}, this.sp));\r\n\t\tthis.delay(300).anim({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\ttime: 400,\r\n\t\t}, 'decel');\r\n\t\tif (!!this.scene.animating && this.sp.shiny) BattleOtherAnims.shiny.anim(this.scene, [this]);\r\n\t\tthis.scene.waitFor(this.$el);\r\n\t\tthis.scene.timeOffset = 700;\r\n\r\n\t\tthis.resetStatbar(pokemon, true);\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tthis.$statbar!.css({\r\n\t\t\tdisplay: 'block',\r\n\t\t\tleft: this.statbarLeft + (this.isFrontSprite ? -100 : 100),\r\n\t\t\ttop: this.statbarTop,\r\n\t\t\topacity: 0,\r\n\t\t});\r\n\t\tthis.$statbar!.delay(300).animate({\r\n\t\t\tleft: this.statbarLeft,\r\n\t\t\topacity: 1,\r\n\t\t}, 400);\r\n\r\n\t\tthis.dogarsCheck(pokemon);\r\n\t}\r\n\tanimDragOut(pokemon: Pokemon) {\r\n\t\tif (!this.scene.animating) return this.animUnsummon(pokemon, true);\r\n\t\tif (this.$sub) {\r\n\t\t\tthis.isSubActive = false;\r\n\t\t\tconst $sub = this.$sub;\r\n\t\t\t$sub.animate(this.scene.pos({\r\n\t\t\t\tx: this.leftof(100),\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, this.subsp!), () => {\r\n\t\t\t\t$sub.remove();\r\n\t\t\t});\r\n\t\t\tthis.$sub = null;\r\n\t\t}\r\n\t\tthis.anim({\r\n\t\t\tx: this.leftof(100),\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\topacity: 0,\r\n\t\t\ttime: 400,\r\n\t\t}, 'accel');\r\n\r\n\t\tthis.updateStatbar(pokemon, true);\r\n\t\tlet $statbar = this.$statbar;\r\n\t\tif ($statbar) {\r\n\t\t\tthis.$statbar = null;\r\n\t\t\t$statbar.animate({\r\n\t\t\t\tleft: this.statbarLeft - (this.isFrontSprite ? -100 : 100),\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 300 / this.scene.acceleration, () => {\r\n\t\t\t\t$statbar!.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tanimUnsummon(pokemon: Pokemon, instant?: boolean) {\r\n\t\tthis.removeSub();\r\n\t\tif (!this.scene.animating || instant) {\r\n\t\t\tthis.$el.hide();\r\n\t\t\tif (this.$statbar) {\r\n\t\t\t\tthis.$statbar.remove();\r\n\t\t\t\tthis.$statbar = null;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.scene.gen <= 4) {\r\n\t\t\tthis.anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y - 25,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.anim({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y - 40,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400 / this.scene.acceleration,\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.scene.showEffect('pokeball', {\r\n\t\t\topacity: 1,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y - 40,\r\n\t\t\tz: this.z,\r\n\t\t\tscale: .7,\r\n\t\t\ttime: 300 / this.scene.acceleration,\r\n\t\t}, {\r\n\t\t\topacity: 0,\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.behind(50),\r\n\t\t\ttime: 700 / this.scene.acceleration,\r\n\t\t}, 'ballistic2');\r\n\t\tif (this.scene.acceleration < 3) this.scene.wait(600 / this.scene.acceleration);\r\n\r\n\t\tthis.updateStatbar(pokemon, true);\r\n\t\tlet $statbar = this.$statbar;\r\n\t\tif ($statbar) {\r\n\t\t\tthis.$statbar = null;\r\n\t\t\t$statbar.animate({\r\n\t\t\t\tleft: this.statbarLeft + (this.isFrontSprite ? 50 : -50),\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 300 / this.scene.acceleration, () => {\r\n\t\t\t\t$statbar!.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tanimFaint(pokemon: Pokemon) {\r\n\t\tthis.removeSub();\r\n\t\tif (!this.scene.animating) {\r\n\t\t\tthis.$el.remove();\r\n\t\t\tif (this.$statbar) {\r\n\t\t\t\tthis.$statbar.remove();\r\n\t\t\t\tthis.$statbar = null;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.updateStatbar(pokemon, false, true);\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tif (this.cryurl) {\r\n\t\t\tBattleSound.playEffect(this.cryurl);\r\n\t\t}\r\n\t\tthis.anim({\r\n\t\t\ty: this.y - 80,\r\n\t\t\topacity: 0,\r\n\t\t}, 'accel');\r\n\t\tthis.scene.waitFor(this.$el);\r\n\t\tthis.$el.promise().done(() => {\r\n\t\t\tthis.$el.remove();\r\n\t\t});\r\n\r\n\t\tlet $statbar = this.$statbar;\r\n\t\tif ($statbar) {\r\n\t\t\tthis.$statbar = null;\r\n\t\t\t$statbar.animate({\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 300, () => {\r\n\t\t\t\t$statbar!.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tanimTransform(pokemon: Pokemon, isCustomAnim?: boolean, isPermanent?: boolean) {\r\n\t\tif (!this.scene.animating && !isPermanent) return;\r\n\t\tlet sp = Dex.getSpriteData(pokemon, this.isFrontSprite, {\r\n\t\t\tgen: this.scene.gen,\r\n\t\t\tmod: this.scene.mod,\r\n\t\t});\r\n\t\tlet oldsp = this.sp;\r\n\t\tif (isPermanent) {\r\n\t\t\tthis.oldsp = null;\r\n\t\t} else if (!this.oldsp) {\r\n\t\t\tthis.oldsp = oldsp;\r\n\t\t}\r\n\t\tthis.sp = sp;\r\n\t\tthis.cryurl = sp.cryurl;\r\n\r\n\t\tif (!this.scene.animating) return;\r\n\t\tlet speciesid = toID(pokemon.getSpeciesForme());\r\n\t\tlet doCry = false;\r\n\t\tconst scene = this.scene;\r\n\t\tif (isCustomAnim) {\r\n\t\t\tif (speciesid === 'kyogreprimal') {\r\n\t\t\t\tBattleOtherAnims.primalalpha.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'phioneprimal') {\r\n\t\t\t\tBattleOtherAnims.primalteal.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'regigigasprimal') {\r\n\t\t\t\tBattleOtherAnims.primalcraftsman.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'cherrimprimal') {\r\n\t\t\t\tBattleOtherAnims.primalcerise.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'groudonprimal') {\r\n\t\t\t\tBattleOtherAnims.primalomega.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'necrozmaultra') {\r\n\t\t\t\tBattleOtherAnims.ultraburst.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t} else if (speciesid === 'zygardecomplete') {\r\n\t\t\t\tBattleOtherAnims.powerconstruct.anim(scene, [this]);\r\n\t\t\t} else if (speciesid === 'wishiwashischool' || speciesid === 'greninjaash') {\r\n\t\t\t\tBattleOtherAnims.schoolingin.anim(scene, [this]);\r\n\t\t\t} else if (speciesid === 'wishiwashi') {\r\n\t\t\t\tBattleOtherAnims.schoolingout.anim(scene, [this]);\r\n\t\t\t} else if (speciesid === 'mimikyubusted' || speciesid === 'mimikyubustedtotem' || speciesid === 'sudowoodobusted') {\r\n\t\t\t\t// standard animation\r\n\t\t\t} else {\r\n\t\t\t\tBattleOtherAnims.megaevo.anim(scene, [this]);\r\n\t\t\t\tdoCry = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Constructing here gives us 300ms extra time to preload the new sprite\r\n\t\tlet $newEl = $('<img src=\"' + sp.url + '\" style=\"display:block;opacity:0;position:absolute\"' + (sp.pixelated ? ' class=\"pixelated\"' : '') + ' />');\r\n\t\t$newEl.css(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\tyscale: 0,\r\n\t\t\txscale: 0,\r\n\t\t\topacity: 0,\r\n\t\t}, sp));\r\n\t\tthis.$el.animate(this.scene.pos({\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t\tz: this.z,\r\n\t\t\tyscale: 0,\r\n\t\t\txscale: 0,\r\n\t\t\topacity: 0.3,\r\n\t\t}, oldsp), 300, () => {\r\n\t\t\tif (this.cryurl && doCry) {\r\n\t\t\t\tBattleSound.playEffect(this.cryurl);\r\n\t\t\t}\r\n\t\t\tthis.$el.replaceWith($newEl);\r\n\t\t\tthis.$el = $newEl;\r\n\t\t\tthis.$el.animate(scene.pos({\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, sp), 300);\r\n\t\t});\r\n\t\tthis.scene.wait(500);\r\n\r\n\t\tthis.scene.updateSidebar(pokemon.side);\r\n\t\tif (isPermanent) {\r\n\t\t\tthis.resetStatbar(pokemon);\r\n\t\t} else {\r\n\t\t\tthis.updateStatbar(pokemon);\r\n\t\t}\r\n\t}\r\n\r\n\tpokeEffect(id: ID) {\r\n\t\tif (id === 'protect' || id === 'magiccoat') {\r\n\t\t\tthis.effects[id][0].anim({\r\n\t\t\t\tscale: 1.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: .4,\r\n\t\t\t\ttime: 300,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\taddEffect(id: ID, instant?: boolean) {\r\n\t\tif (id in this.effects) {\r\n\t\t\tthis.pokeEffect(id);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst spriten = +this.isFrontSprite;\r\n\t\tif (id === 'substitute') {\r\n\t\t\tthis.animSub(instant);\r\n\t\t} else if (id === 'leechseed') {\r\n\t\t\tconst pos1 = {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x - 30,\r\n\t\t\t\ty: this.y - 40,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: .2,\r\n\t\t\t\topacity: .6,\r\n\t\t\t};\r\n\t\t\tconst pos2 = {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x + 40,\r\n\t\t\t\ty: this.y - 35,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: .2,\r\n\t\t\t\topacity: .6,\r\n\t\t\t};\r\n\t\t\tconst pos3 = {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x + 20,\r\n\t\t\t\ty: this.y - 25,\r\n\t\t\t\tz: this.z,\r\n\t\t\t\tscale: .2,\r\n\t\t\t\topacity: .6,\r\n\t\t\t};\r\n\r\n\t\t\tconst leechseed1 = new Sprite(BattleEffects.energyball, pos1, this.scene);\r\n\t\t\tconst leechseed2 = new Sprite(BattleEffects.energyball, pos2, this.scene);\r\n\t\t\tconst leechseed3 = new Sprite(BattleEffects.energyball, pos3, this.scene);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(leechseed1.$el!);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(leechseed2.$el!);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(leechseed3.$el!);\r\n\t\t\tthis.effects['leechseed'] = [leechseed1, leechseed2, leechseed3];\r\n\t\t} else if (id === 'protect' || id === 'magiccoat') {\r\n\t\t\tconst protect = new Sprite(BattleEffects.protect, {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tx: this.x,\r\n\t\t\t\ty: this.y,\r\n\t\t\t\tz: this.behind(-15),\r\n\t\t\t\txscale: 1,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: .1,\r\n\t\t\t}, this.scene);\r\n\t\t\tthis.scene.$spritesFront[spriten].append(protect.$el!);\r\n\t\t\tthis.effects[id] = [protect];\r\n\t\t\tprotect.anim({\r\n\t\t\t\topacity: .9,\r\n\t\t\t\ttime: instant ? 0 : 400,\r\n\t\t\t}).anim({\r\n\t\t\t\topacity: .4,\r\n\t\t\t\ttime: instant ? 0 : 300,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tremoveEffect(id: ID, instant?: boolean) {\r\n\t\tif (id === 'formechange') this.removeTransform();\r\n\t\tif (id === 'substitute') this.animSubFade(instant);\r\n\t\tif (this.effects[id]) {\r\n\t\t\tfor (const sprite of this.effects[id]) sprite.destroy();\r\n\t\t\tdelete this.effects[id];\r\n\t\t}\r\n\t}\r\n\tclearEffects() {\r\n\t\tfor (const id in this.effects) this.removeEffect(id as ID, true);\r\n\t\tthis.animSubFade(true);\r\n\t\tthis.removeTransform();\r\n\t}\r\n\r\n\tdogarsCheck(pokemon: Pokemon) {\r\n\t\tif (pokemon.side.isFar) return;\r\n\r\n\t\tif (pokemon.speciesForme === 'Koffing' && pokemon.name.match(/dogars/i)) {\r\n\t\t\tthis.scene.setBgm(-1);\r\n\t\t} else if (this.scene.bgmNum === -1) {\r\n\t\t\tthis.scene.rollBgm();\r\n\t\t}\r\n\t}\r\n\r\n\t// Statbar\r\n\t/////////////////////////////////////////////////////////////////////\r\n\r\n\tgetStatbarHTML(pokemon: Pokemon) {\r\n\t\tlet buf = '<div class=\"statbar' + (this.isFrontSprite ? ' lstatbar' : ' rstatbar') + '\" style=\"display: none\">';\r\n\t\tconst ignoreNick = this.isFrontSprite && (this.scene.battle.ignoreOpponent || this.scene.battle.ignoreNicks);\r\n\t\tbuf += `<strong>${BattleLog.escapeHTML(ignoreNick ? pokemon.speciesForme : pokemon.name)}`;\r\n\t\tconst gender = pokemon.gender;\r\n\t\tif (gender === 'M' || gender === 'F') {\r\n\t\t\tbuf += ` <img src=\"${Dex.resourcePrefix}fx/gender-${gender.toLowerCase()}.png\" alt=\"${gender}\" width=\"7\" height=\"10\" class=\"pixelated\" />`;\r\n\t\t}\r\n\t\tbuf += (pokemon.level === 100 ? `` : ` <small>L${pokemon.level}</small>`);\r\n\r\n\t\tlet symbol = '';\r\n\t\tif (pokemon.speciesForme.indexOf('-Mega') >= 0) symbol = 'mega';\r\n\t\telse if (pokemon.speciesForme === 'Kyogre-Primal') symbol = 'alpha';\r\n\t\telse if (pokemon.speciesForme === 'Phione-Primal') symbol = 'teal';\r\n\t\telse if (pokemon.speciesForme === 'Cherrim-Primal') symbol = 'cerise';\r\n\t\telse if (pokemon.speciesForme === 'Regigigas-Primal') symbol = 'craftsman';\r\n\t\telse if (pokemon.speciesForme === 'Groudon-Primal') symbol = 'omega';\r\n\t\tif (symbol) {\r\n\t\t\tbuf += ` <img src=\"${Dex.resourcePrefix}sprites/misc/${symbol}.png\" alt=\"${symbol}\" style=\"vertical-align:text-bottom;\" />`;\r\n\t\t}\r\n\r\n\t\tbuf += `</strong><div class=\"hpbar\"><div class=\"hptext\"></div><div class=\"hptextborder\"></div><div class=\"prevhp\"><div class=\"hp\"></div></div><div class=\"status\"></div>`;\r\n\t\tbuf += `</div>`;\r\n\t\treturn buf;\r\n\t}\r\n\r\n\tresetStatbar(pokemon: Pokemon, startHidden?: boolean) {\r\n\t\tif (this.$statbar) {\r\n\t\t\tthis.$statbar.remove();\r\n\t\t\tthis.$statbar = null as any; // workaround for TS thinking $statbar is still null after `updateStatbar`\r\n\t\t}\r\n\t\tthis.updateStatbar(pokemon, true);\r\n\t\tif (!startHidden && this.$statbar) {\r\n\t\t\tthis.$statbar.css({\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tleft: this.statbarLeft,\r\n\t\t\t\ttop: this.statbarTop,\r\n\t\t\t\topacity: 1,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tupdateStatbarIfExists(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) {\r\n\t\tif (this.$statbar) {\r\n\t\t\tthis.updateStatbar(pokemon, updatePrevhp, updateHp);\r\n\t\t}\r\n\t}\r\n\r\n\tupdateStatbar(pokemon: Pokemon, updatePrevhp?: boolean, updateHp?: boolean) {\r\n\t\tif (!this.scene.animating) return;\r\n\t\tif (!pokemon.isActive()) {\r\n\t\t\tif (this.$statbar) this.$statbar.hide();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.$statbar) {\r\n\t\t\tthis.$statbar = $(this.getStatbarHTML(pokemon));\r\n\t\t\tthis.scene.$stat.append(this.$statbar);\r\n\t\t\tupdatePrevhp = true;\r\n\t\t}\r\n\t\tlet hpcolor;\r\n\t\tif (updatePrevhp || updateHp) {\r\n\t\t\thpcolor = BattleScene.getHPColor(pokemon);\r\n\t\t\tlet w = pokemon.hpWidth(150);\r\n\t\t\tlet $hp = this.$statbar.find('.hp');\r\n\t\t\t$hp.css({\r\n\t\t\t\twidth: w,\r\n\t\t\t\t'border-right-width': (w ? 1 : 0),\r\n\t\t\t});\r\n\t\t\tif (hpcolor === 'g') $hp.removeClass('hp-yellow hp-red');\r\n\t\t\telse if (hpcolor === 'y') $hp.removeClass('hp-red').addClass('hp-yellow');\r\n\t\t\telse $hp.addClass('hp-yellow hp-red');\r\n\t\t\tthis.updateHPText(pokemon);\r\n\t\t}\r\n\t\tif (updatePrevhp) {\r\n\t\t\tlet $prevhp = this.$statbar.find('.prevhp');\r\n\t\t\t$prevhp.css('width', pokemon.hpWidth(150) + 1);\r\n\t\t\tif (hpcolor === 'g') $prevhp.removeClass('prevhp-yellow prevhp-red');\r\n\t\t\telse if (hpcolor === 'y') $prevhp.removeClass('prevhp-red').addClass('prevhp-yellow');\r\n\t\t\telse $prevhp.addClass('prevhp-yellow prevhp-red');\r\n\t\t}\r\n\t\tlet status = '';\r\n\t\tif (pokemon.status === 'brn') {\r\n\t\t\tstatus += '<span class=\"brn\">BRN</span> ';\r\n\t\t} else if (pokemon.status === 'psn') {\r\n\t\t\tstatus += '<span class=\"psn\">PSN</span> ';\r\n\t\t} else if (pokemon.status === 'tox') {\r\n\t\t\tstatus += '<span class=\"psn\">TOX</span> ';\r\n\t\t} else if (pokemon.status === 'slp') {\r\n\t\t\tstatus += '<span class=\"slp\">SLP</span> ';\r\n\t\t} else if (pokemon.status === 'par') {\r\n\t\t\tstatus += '<span class=\"par\">PAR</span> ';\r\n\t\t} else if (pokemon.status === 'frz') {\r\n\t\t\tstatus += '<span class=\"frz\">FRZ</span> ';\r\n\t\t}\r\n\t\tif (pokemon.volatiles.typechange && pokemon.volatiles.typechange[1]) {\r\n\t\t\tconst types = pokemon.volatiles.typechange[1].split('/');\r\n\t\t\tfor (const type of types) {\r\n\t\t\t\tstatus += '<img src=\"' + Dex.resourcePrefix + 'sprites/types/' + encodeURIComponent(type) + '.png\" alt=\"' + type + '\" class=\"pixelated\" /> ';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (pokemon.volatiles.typeadd) {\r\n\t\t\tconst type = pokemon.volatiles.typeadd[1];\r\n\t\t\tstatus += '+<img src=\"' + Dex.resourcePrefix + 'sprites/types/' + type + '.png\" alt=\"' + type + '\" class=\"pixelated\" /> ';\r\n\t\t}\r\n\t\tfor (const stat in pokemon.boosts) {\r\n\t\t\tif (pokemon.boosts[stat]) {\r\n\t\t\t\tstatus += '<span class=\"' + pokemon.getBoostType(stat as BoostStatName) + '\">' + pokemon.getBoost(stat as BoostStatName) + '</span> ';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (let i in pokemon.volatiles) {\r\n\t\t\tstatus += PokemonSprite.getEffectTag(i);\r\n\t\t}\r\n\t\tfor (let i in pokemon.turnstatuses) {\r\n\t\t\tif (i === 'roost' && !pokemon.getTypeList().includes('Flying')) continue;\r\n\t\t\tstatus += PokemonSprite.getEffectTag(i);\r\n\t\t}\r\n\t\tfor (let i in pokemon.movestatuses) {\r\n\t\t\tstatus += PokemonSprite.getEffectTag(i);\r\n\t\t}\r\n\t\tlet statusbar = this.$statbar.find('.status');\r\n\t\tstatusbar.html(status);\r\n\t}\r\n\r\n\tprivate static getEffectTag(id: string) {\r\n\t\tlet effect = PokemonSprite.statusTable[id];\r\n\t\tif (typeof effect === 'string') return effect;\r\n\t\tif (effect === null) return PokemonSprite.statusTable[id] = '';\r\n\t\tif (effect === undefined) effect = [`[[${id}]]`, 'neutral'];\r\n\t\treturn PokemonSprite.statusTable[id] = `<span class=\"${effect[1]}\">${effect[0].replace(/ /g, '&nbsp;')}</span> `;\r\n\t}\r\n\r\n\tupdateHPText(pokemon: Pokemon) {\r\n\t\tif (!this.$statbar) return;\r\n\t\tlet $hptext = this.$statbar.find('.hptext');\r\n\t\tlet $hptextborder = this.$statbar.find('.hptextborder');\r\n\t\tif (pokemon.maxhp === 48 || this.scene.battle.hardcoreMode && pokemon.maxhp === 100) {\r\n\t\t\t$hptext.hide();\r\n\t\t\t$hptextborder.hide();\r\n\t\t} else if (this.scene.battle.hardcoreMode) {\r\n\t\t\t$hptext.html(pokemon.hp + '/');\r\n\t\t\t$hptext.show();\r\n\t\t\t$hptextborder.show();\r\n\t\t} else {\r\n\t\t\t$hptext.html(pokemon.hpWidth(100) + '%');\r\n\t\t\t$hptext.show();\r\n\t\t\t$hptextborder.show();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// par: -webkit-filter:  sepia(100%) hue-rotate(373deg) saturate(592%);\r\n//      -webkit-filter:  sepia(100%) hue-rotate(22deg) saturate(820%) brightness(29%);\r\n// psn: -webkit-filter:  sepia(100%) hue-rotate(618deg) saturate(285%);\r\n// brn: -webkit-filter:  sepia(100%) hue-rotate(311deg) saturate(469%);\r\n// slp: -webkit-filter:  grayscale(100%);\r\n// frz: -webkit-filter:  sepia(100%) hue-rotate(154deg) saturate(759%) brightness(23%);\r\n\r\n// @ts-ignore\r\nObject.assign($.easing, {\r\n\tballisticUp(x: number, t: number, b: number, c: number, d: number) {\r\n\t\treturn -3 * x * x + 4 * x;\r\n\t},\r\n\tballisticDown(x: number, t: number, b: number, c: number, d: number) {\r\n\t\tx = 1 - x;\r\n\t\treturn 1 - (-3 * x * x + 4 * x);\r\n\t},\r\n\tquadUp(x: number, t: number, b: number, c: number, d: number) {\r\n\t\tx = 1 - x;\r\n\t\treturn 1 - (x * x);\r\n\t},\r\n\tquadDown(x: number, t: number, b: number, c: number, d: number) {\r\n\t\treturn x * x;\r\n\t},\r\n});\r\n\r\ninterface AnimData {\r\n\tanim(scene: BattleScene, args: PokemonSprite[]): void;\r\n\tprepareAnim?(scene: BattleScene, args: PokemonSprite[]): void;\r\n\tresidualAnim?(scene: BattleScene, args: PokemonSprite[]): void;\r\n}\r\ntype AnimTable = {[k: string]: AnimData};\r\n\r\nconst BattleEffects: {[k: string]: SpriteData} = {\r\n\twisp: {\r\n\t\turl: 'wisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tpoisonwisp: {\r\n\t\turl: 'poisonwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\twaterwisp: {\r\n\t\turl: 'waterwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tmudwisp: {\r\n\t\turl: 'mudwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tblackwisp: {\r\n\t\turl: 'blackwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tshadowwisp: {\r\n\t\turl: 'shadowwisp.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tshadowwisp2: {\r\n\t\turl: 'shadowwisp2.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tshadowwisp3: {\r\n\t\turl: 'shadowwisp3.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tcolorball1: {\r\n\t\turl: 'colorball1.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tcolorball2: {\r\n\t\turl: 'colorball2.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tcolorball3: {\r\n\t\turl: 'colorball3.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tcolorball4: {\r\n\t\turl: 'colorball4.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tcolorball5: {\r\n\t\turl: 'colorball5.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tcolorball6: {\r\n\t\turl: 'colorball6.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tcolorball7: {\r\n\t\turl: 'colorball7.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tcolorball8: {\r\n\t\turl: 'colorball8.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tfireball: {\r\n\t\turl: 'fireball.png',\r\n\t\tw: 64, h: 64,\r\n\t},\r\n\tshadowfireball: {\r\n\t\turl: 'shadowfireball.png',\r\n\t\tw: 64, h: 64,\r\n\t},\r\n\tshadowfireball2: {\r\n\t\turl: 'shadowfireball2.png',\r\n\t\tw: 64, h: 64,\r\n\t},\r\n\tshadowfireball3: {\r\n\t\turl: 'shadowfireball3.png',\r\n\t\tw: 64, h: 64,\r\n\t},\r\n\tbluefireball: {\r\n\t\turl: 'bluefireball.png',\r\n\t\tw: 64, h: 64,\r\n\t},\r\n\ticicle: {\r\n\t\turl: 'icicle.png', // http://opengameart.org/content/icicle-spell\r\n\t\tw: 80, h: 60,\r\n\t},\r\n\tshadowicicle: {\r\n\t\turl: 'shadowicicle.png', \r\n\t\tw: 80, h: 60,\r\n\t},\r\n\tshadowicicle2: {\r\n\t\turl: 'shadowicicle2.png', \r\n\t\tw: 80, h: 60,\r\n\t},\r\n\tshadowicicle3: {\r\n\t\turl: 'shadowicicle3.png', \r\n\t\tw: 80, h: 60,\r\n\t},\r\n\tpinkicicle: {\r\n\t\turl: 'icicle-pink.png', // http://opengameart.org/content/icicle-spell, recolored by Kalalokki\r\n\t\tw: 80, h: 60,\r\n\t},\r\n\tlightning: {\r\n\t\turl: 'lightning.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 41, h: 229,\r\n\t},\r\n\tshadowlightning: {\r\n\t\turl: 'shadowlightning.png', \r\n\t\tw: 41, h: 229,\r\n\t},\r\n\trocks: {\r\n\t\turl: 'rocks.png', // Pokemon Online - Gilad\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\trock1: {\r\n\t\turl: 'rock1.png', // Pokemon Online - Gilad\r\n\t\tw: 64, h: 80,\r\n\t},\r\n\trock2: {\r\n\t\turl: 'rock2.png', // Pokemon Online - Gilad\r\n\t\tw: 66, h: 72,\r\n\t},\r\n\trock3: {\r\n\t\turl: 'rock3.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 66, h: 72,\r\n\t},\r\n\tleaf1: {\r\n\t\turl: 'leaf1.png',\r\n\t\tw: 32, h: 26,\r\n\t},\r\n\tleaf2: {\r\n\t\turl: 'leaf2.png',\r\n\t\tw: 40, h: 26,\r\n\t},\r\n\tbone: {\r\n\t\turl: 'bone.png',\r\n\t\tw: 29, h: 29,\r\n\t},\r\n\tcaltrop: {\r\n\t\turl: 'caltrop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tshadowcaltrop: {\r\n\t\turl: 'shadowcaltrop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tgreenmetal1: {\r\n\t\turl: 'greenmetal1.png', // by Pokemon Showdown user Kalalokki\r\n\t\tw: 45, h: 45,\r\n\t},\r\n\tgreenmetal2: {\r\n\t\turl: 'greenmetal2.png', // by Pokemon Showdown user Kalalokki\r\n\t\tw: 45, h: 45,\r\n\t},\r\n\tpoisoncaltrop: {\r\n\t\turl: 'poisoncaltrop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tshadowball: {\r\n\t\turl: 'shadowball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tshadowshadowball: {\r\n\t\turl: 'shadowshadowball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tshadowshadowball2: {\r\n\t\turl: 'shadowshadowball2.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tshadowshadowball3: {\r\n\t\turl: 'shadowshadowball3.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tenergyball: {\r\n\t\turl: 'energyball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\telectroball: {\r\n\t\turl: 'electroball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tmistball: {\r\n\t\turl: 'mistball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\ticeball: {\r\n\t\turl: 'iceball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tflareball: {\r\n\t\turl: 'flareball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tmeloball: {\r\n\t\turl: 'meloball.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tpokeball: {\r\n\t\turl: 'pokeball.png',\r\n\t\tw: 24, h: 24,\r\n\t},\r\n\tfist: {\r\n\t\turl: 'fist.png', \r\n\t\tw: 55, h: 49,\r\n\t},\r\n\tshadowfist: {\r\n\t\turl: 'shadowfist.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 55, h: 49,\r\n\t},\r\n\tfist1: {\r\n\t\turl: 'fist1.png',\r\n\t\tw: 49, h: 55,\r\n\t},\r\n\tfoot: {\r\n\t\turl: 'foot.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 50, h: 75,\r\n\t},\r\n\tshadowfoot: {\r\n\t\turl: 'shadowfoot.png', \r\n\t\tw: 50, h: 75,\r\n\t},\r\n\ttopbite: {\r\n\t\turl: 'topbite.png',\r\n\t\tw: 108, h: 64,\r\n\t},\r\n\tshadowtopbite: {\r\n\t\turl: 'shadowtopbite.png',\r\n\t\tw: 108, h: 64,\r\n\t},\r\n\tbottombite: {\r\n\t\turl: 'bottombite.png',\r\n\t\tw: 108, h: 64,\r\n\t},\r\n\tshadowbottombite: {\r\n\t\turl: 'shadowbottombite.png',\r\n\t\tw: 108, h: 64,\r\n\t},\r\n\tweb: {\r\n\t\turl: 'web.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 120, h: 122,\r\n\t},\r\n\tleftclaw: {\r\n\t\turl: 'leftclaw.png',\r\n\t\tw: 44, h: 60,\r\n\t},\r\n\trightclaw: {\r\n\t\turl: 'rightclaw.png',\r\n\t\tw: 44, h: 60,\r\n\t},\r\n\tleftslash: {\r\n\t\turl: 'leftslash.png', // by Pokemon Showdown user Modeling Clay\r\n\t\tw: 57, h: 56,\r\n\t},\r\n\tshadowleftslash: {\r\n\t\turl: 'shadowleftslash.png', \r\n\t\tw: 57, h: 56,\r\n\t},\r\n\trightslash: {\r\n\t\turl: 'rightslash.png', // by Pokemon Showdown user Modeling Clay\r\n\t\tw: 57, h: 56,\r\n\t},\r\n\tshadowrightslash: {\r\n\t\turl: 'rightslash.png', \r\n\t\tw: 57, h: 56,\r\n\t},\r\n\tleftchop: {\r\n\t\turl: 'leftchop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 100, h: 130,\r\n\t},\r\n\tshadowleftchop: {\r\n\t\turl: 'shadowleftchop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 100, h: 130,\r\n\t},\r\n\trightchop: {\r\n\t\turl: 'rightchop.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 100, h: 130,\r\n\t},\r\n\tshadowrightchop: {\r\n\t\turl: 'shadowrightchop.png',\r\n\t\tw: 100, h: 130,\r\n\t},\r\n\tangry: {\r\n\t\turl: 'angry.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 30, h: 30,\r\n\t},\r\n\theart: {\r\n\t\turl: 'heart.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 30, h: 30,\r\n\t},\r\n\tpointer: {\r\n\t\turl: 'pointer.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tshadowpointer: {\r\n\t\turl: 'shadowpointer.png',\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tsword: {\r\n\t\turl: 'sword.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 48, h: 100,\r\n\t},\r\n\timpact: {\r\n\t\turl: 'impact.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 127, h: 119,\r\n\t},\r\n\tshadowimpact: {\r\n\t\turl: 'shadowimpact.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 127, h: 119,\r\n\t},\r\n\tshadowimpact2: {\r\n\t\turl: 'shadowimpact2.png', // by Pokemon Showdown user SailorCosmos\r\n\t\tw: 127, h: 119,\r\n\t},\r\n\tstare: {\r\n\t\turl: 'stare.png',\r\n\t\tw: 100, h: 35,\r\n\t},\r\n\tshadowstare: {\r\n\t\turl: 'shadowstare.png',\r\n\t\tw: 100, h: 35,\r\n\t},\r\n\tshine: {\r\n\t\turl: 'shine.png', // by Smogon user Jajoken\r\n\t\tw: 127, h: 119,\r\n\t},\r\n\tshadowshine: {\r\n\t\turl: 'shadowshine.png', \r\n\t\tw: 127, h: 119,\r\n\t},\r\n\tshadowshine2: {\r\n\t\turl: 'shadowshine2.png', \r\n\t\tw: 127, h: 119,\r\n\t},\r\n\tfeather: {\r\n\t\turl: 'feather.png', // Ripped from http://www.clker.com/clipart-black-and-white-feather.html\r\n\t\tw: 100, h: 38,\r\n\t},\r\n\tshell: {\r\n\t\turl: 'shell.png', // by Smogon user Jajoken\r\n\t\tw: 100, h: 91.5,\r\n\t},\r\n\tpetal: {\r\n\t\turl: 'petal.png', // by Smogon user Jajoken\r\n\t\tw: 60, h: 60,\r\n\t},\r\n\tgear: {\r\n\t\turl: 'gear.png', // by Smogon user Jajoken\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\talpha: {\r\n\t\turl: 'alpha.png', // Ripped from Pokemon Global Link\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tteal: {\r\n\t\turl: 'teal.png',\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tcerise: {\r\n\t\turl: 'cerise.png',\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tcraftsman: {\r\n\t\turl: 'craftsman.png',\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\tomega: {\r\n\t\turl: 'omega.png', // Ripped from Pokemon Global Link\r\n\t\tw: 80, h: 80,\r\n\t},\r\n\trainbow: {\r\n\t\turl: 'rainbow.png',\r\n\t\tw: 128, h: 128,\r\n\t},\r\n\tshadowrainbow: {\r\n\t\turl: 'shadowrainbow.png',\r\n\t\tw: 128, h: 128,\r\n\t},\r\n\tzsymbol: {\r\n\t\turl: 'z-symbol.png', // From http://froggybutt.deviantart.com/art/Pokemon-Z-Move-symbol-633125033\r\n\t\tw: 150, h: 100,\r\n\t},\r\n\tultra: {\r\n\t\turl: 'ultra.png', // by Pokemon Showdown user Modeling Clay\r\n\t\tw: 113, h: 165,\r\n\t},\r\n\thitmark: {\r\n\t\turl: 'hitmarker.png', // by Pokemon Showdown user Ridaz\r\n\t\tw: 100, h: 100,\r\n\t},\r\n\tprotect: {\r\n\t\trawHTML: '<div class=\"turnstatus-protect\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 70,\r\n\t},\r\n\tauroraveil: {\r\n\t\trawHTML: '<div class=\"sidecondition-auroraveil\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\treflect: {\r\n\t\trawHTML: '<div class=\"sidecondition-reflect\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\tsafeguard: {\r\n\t\trawHTML: '<div class=\"sidecondition-safeguard\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\tlightscreen: {\r\n\t\trawHTML: '<div class=\"sidecondition-lightscreen\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n\tmist: {\r\n\t\trawHTML: '<div class=\"sidecondition-mist\" style=\"display:none;position:absolute\" />',\r\n\t\tw: 100, h: 50,\r\n\t},\r\n};\r\n(() => {\r\n\tif (!window.Dex || !Dex.resourcePrefix) return;\r\n\tfor (const id in BattleEffects) {\r\n\t\tif (!BattleEffects[id].url) continue;\r\n\t\tBattleEffects[id].url = Dex.fxPrefix + BattleEffects[id].url;\r\n\t}\r\n})();\r\nconst BattleBackdropsThree = [\r\n\t'bg-gen3.png',\r\n\t'bg-gen3-cave.png',\r\n\t'bg-gen3-ocean.png',\r\n\t'bg-gen3-sand.png',\r\n\t'bg-gen3-forest.png',\r\n\t'bg-gen3-arena.png',\r\n];\r\nconst BattleBackdropsFour = [\r\n\t'bg-gen4.png',\r\n\t'bg-gen4-cave.png',\r\n\t'bg-gen4-snow.png',\r\n\t'bg-gen4-indoors.png',\r\n\t'bg-gen4-water.png',\r\n];\r\nconst BattleBackdropsFive = [\r\n\t'bg-beach.png',\r\n\t'bg-beachshore.png',\r\n\t'bg-desert.png',\r\n\t'bg-meadow.png',\r\n\t'bg-thunderplains.png',\r\n\t'bg-city.png',\r\n\t'bg-earthycave.png',\r\n\t'bg-mountain.png',\r\n\t'bg-volcanocave.png',\r\n\t'bg-dampcave.png',\r\n\t'bg-forest.png',\r\n\t'bg-river.png',\r\n\t'bg-deepsea.png',\r\n\t'bg-icecave.png',\r\n\t'bg-route.png',\r\n];\r\nconst BattleBackdrops = [\r\n\t'bg-ancient.png',\r\n\t'bg-aquacordetown.jpg',\r\n\t'bg-autumn.png',\r\n\t'bg-beach.jpg',\r\n\t'bg-cave.png',\r\n\t'bg-city.jpg',\r\n\t'bg-dampcave.jpg',\r\n\t'bg-darkbeach.jpg',\r\n\t'bg-darkcity.jpg',\r\n\t'bg-darkmeadow.jpg',\r\n\t'bg-deepsea.jpg',\r\n\t'bg-desert.jpg',\r\n\t'bg-earthycave.jpg',\r\n\t'bg-elite4drake.jpg',\r\n\t'bg-flowers.png',\r\n\t'bg-forest.jpg',\r\n\t'bg-greens.png',\r\n\t'bg-greenssunset.png',\r\n\t'bg-icecave.jpg',\r\n\t'bg-leaderwallace.jpg',\r\n\t'bg-library.jpg',\r\n\t'bg-meadow.jpg',\r\n\t'bg-orasdesert.jpg',\r\n\t'bg-orassea.jpg',\r\n\t'bg-skypillar.jpg',\r\n\t'bg-snowscape.png',\r\n\t'bg-workout.png',\r\n];\r\n\r\nconst BattleOtherAnims: AnimTable = {\r\n\thitmark: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('hitmark', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(40),\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tcontactattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Back');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t\tscene.wait(500);\r\n\t\t},\r\n\t},\r\n\txattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'linear');\r\n\t\t\tdefender.delay(480);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-30),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(30),\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(30),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballisticUp');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-30),\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Back');\r\n\t\t},\r\n\t},\r\n\tslashattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Back');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\r\n\t\t\tscene.showEffect('rightslash', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tclawattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-30),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(30),\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(30),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballisticUp');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-30),\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Back');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\r\n\t\t\tscene.showEffect('leftclaw', {\r\n\t\t\t\tx: defender.x - 20,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x - 20,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('leftclaw', {\r\n\t\t\t\tx: defender.x - 20,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x - 20,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('rightclaw', {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('rightclaw', {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tpunchattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fist', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(20),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(-20),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 50,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2');\r\n\t\t\tdefender.delay(425);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.leftof(-15),\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(15),\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tbite: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('topbite', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 50,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 370,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 10,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('bottombite', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 50,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 370,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 10,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tshadowbite: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.backgroundEffect('#110131', 800, 0.7);\r\n\t\t\tscene.showEffect('shadowtopbite', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 50,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 370,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 10,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowbottombite', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 50,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 370,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 10,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tkick: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('foot', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.behind(15),\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tfastattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 260,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 560,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 310,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 610,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(70),\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'accel', 'fade');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(70),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'accel', 'fade');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(70),\r\n\t\t\t\ttime: 300,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, 'accel');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.x,\r\n\t\t\t\tz: defender.behind(100),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.behind(70),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.delay(260);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tfastanimattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tz: attacker.behind(-70),\r\n\t\t\t\ttime: 50,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, 'decel');\r\n\t\t\tattacker.anim({\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, 'accel');\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\ttime: 70,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 170,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tfastanimspecial: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 70,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 170,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\ttime: 70,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 170,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tfastanimself: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, 'decel');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 170,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tsneakattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.leftof(-20),\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.behind(-20),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(-120),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(40),\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.behind(-5),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tdefender.delay(330);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tspinattack: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 60,\r\n\t\t\t\tz: defender.behind(-30),\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2');\r\n\t\t\tdefender.delay(450);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t\tscene.wait(500);\r\n\t\t},\r\n\t},\r\n\tbound: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 15,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\txscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\txscale: 1,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\txscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\txscale: 1,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 550,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\txscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\txscale: 1,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ty: attacker.y + 15,\r\n\t\t\t\tz: attacker.behind(10),\r\n\t\t\t\tyscale: 1.3,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.delay(25);\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.leftof(-10),\r\n\t\t\t\ty: attacker.y + 15,\r\n\t\t\t\tz: attacker.behind(5),\r\n\t\t\t\tyscale: 1.3,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tselfstatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tshadowselfstatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#110131', 700, 0.7);\r\n\t\t\tscene.showEffect('shadowwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('shadowwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tlightstatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tshadowlightstatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#110131', 700, 0.7);\r\n\t\t\tscene.showEffect('shadowshadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tchargestatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 60,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 60,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 70,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tshadowchargestatus: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#110131', 700, 0.7);\r\n\t\t\tscene.showEffect('shadowshadowball', {\r\n\t\t\t\tx: attacker.x - 60,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowshadowball', {\r\n\t\t\t\tx: attacker.x + 60,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowshadowball', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowshadowball', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowshadowball', {\r\n\t\t\t\tx: attacker.x - 70,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\theal: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ty: attacker.y + 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 40,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y - 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 40,\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 25,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x - 15,\r\n\t\t\t\ty: attacker.y - 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 25,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tshiny: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#000000', 800, 0.3, 100);\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x + 5,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 450,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 35,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 675,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 475,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 25,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x - 15,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 25,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 725,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y + 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 550,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 775,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 650,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 35,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 875,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shine', {\r\n\t\t\t\tx: attacker.x + 5,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 675,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tflight: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.leftof(-200),\r\n\t\t\t\ty: attacker.y + 80,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'accel');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(-200),\r\n\t\t\t\ty: defender.y + 80,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\ttime: 1,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: defender.leftof(100),\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 175,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.behind(40),\r\n\t\t\t\ttime: 1,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'decel');\r\n\t\t\tdefender.delay(700);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tz: defender.behind(20),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tshake: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tattacker.anim({x: attacker.x - 10, time: 200});\r\n\t\t\tattacker.anim({x: attacker.x + 10, time: 300});\r\n\t\t\tattacker.anim({x: attacker.x, time: 200});\r\n\t\t},\r\n\t},\r\n\tdance: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tattacker.anim({x: attacker.x - 10});\r\n\t\t\tattacker.anim({x: attacker.x + 10});\r\n\t\t\tattacker.anim({x: attacker.x});\r\n\t\t},\r\n\t},\r\n\tshadowdance: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#110131', 700, 0.7);\r\n\t\t\tattacker.anim({x: attacker.x - 10});\r\n\t\t\tattacker.anim({x: attacker.x + 10});\r\n\t\t\tattacker.anim({x: attacker.x});\r\n\t\t},\r\n\t},\r\n\tconsume: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: defender.leftof(-25),\r\n\t\t\t\ty: defender.y + 40,\r\n\t\t\t\tz: defender.behind(-20),\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.leftof(-15),\r\n\t\t\t\ty: defender.y + 35,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'swing', 'fade');\r\n\r\n\t\t\tdefender.delay(400);\r\n\t\t\tdefender.anim({\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tyscale: 1.1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tyscale: 1.1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t\tdefender.anim({\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n\tleech: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x - 30,\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 500,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, 'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x + 40,\r\n\t\t\t\ty: defender.y - 35,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 550,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x + 20,\r\n\t\t\t\ty: defender.y - 25,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 600,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tdrain: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.6,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 500,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'ballistic2');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.6,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 550,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.6,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 600,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t},\r\n\t},\r\n\thydroshot: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x + 10,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, 'decel', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x - 10,\r\n\t\t\t\ty: defender.y - 5,\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, 'decel', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 5,\r\n\t\t\t\tz: defender.behind(30),\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, 'decel', 'explode');\r\n\t\t},\r\n\t},\r\n\tsound: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tshadowsound: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#110131', 700, 0.7);\r\n\t\t\tscene.showEffect('shadowwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('shadowwisp2', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('shadowwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n\tgravity: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tattacker.anim({\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\tyscale: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'decel');\r\n\t\t\tattacker.delay(200);\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tfuturesighthit: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.backgroundEffect('#AA44BB', 250, 0.6);\r\n\t\t\tscene.backgroundEffect('#AA44FF', 250, 0.6, 400);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tscale: 1.2,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tscale: 1,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tscale: 1.4,\r\n\t\t\t\ttime: 150,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tscale: 1,\r\n\t\t\t\ttime: 150,\r\n\t\t\t});\r\n\t\t\tscene.wait(700);\r\n\t\t},\r\n\t},\r\n\tdoomdesirehit: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.backgroundEffect('#ffffff', 600, 0.6);\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: defender.x + 40,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: defender.x - 40,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: defender.x + 10,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\r\n\t\t\tdefender.delay(100);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 30,\r\n\t\t\t\ttime: 75,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tpropheticasteroidhit: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.backgroundEffect('#ffffff', 600, 0.6);\r\n\t\t\tscene.showEffect('rock1', {\r\n\t\t\t\tx: defender.x + 40,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('rock1', {\r\n\t\t\t\tx: defender.x - 40,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: defender.x + 10,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\r\n\t\t\tdefender.delay(100);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 30,\r\n\t\t\t\ttime: 75,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tshadowdoomsdayhit: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.backgroundEffect('#110131', 700, 0.7);\r\n\t\t\tscene.showEffect('shadowfireball2', {\r\n\t\t\t\tx: defender.x + 40,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('shadowfireball2', {\r\n\t\t\t\tx: defender.x - 40,\r\n\t\t\t\ty: defender.y - 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('shadowshadowball', {\r\n\t\t\t\tx: defender.x + 10,\r\n\t\t\t\ty: defender.y + 20,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\r\n\t\t\tdefender.delay(100);\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 30,\r\n\t\t\t\ttime: 75,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\titemoff: {\r\n\t\tanim(scene, [defender]) {\r\n\t\t\tscene.showEffect('pokeball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y + 40,\r\n\t\t\t\tz: defender.behind(70),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2');\r\n\t\t},\r\n\t},\r\n\tanger: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('angry', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('angry', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('angry', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tbidecharge: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 15,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 2.5,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tbideunleash: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: attacker.x + 40,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: attacker.x - 40,\r\n\t\t\t\ty: attacker.y - 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: attacker.x + 10,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, 'linear');\r\n\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ttime: 75,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tspectralthiefboost: {\r\n\t\tanim(scene, [attacker, defender]) {\r\n\t\t\tscene.backgroundEffect('linear-gradient(#000000 30%, #440044', 1400, 0.5);\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 30,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\txscale: 0.5,\r\n\t\t\t\tyscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\txscale: 4,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 25,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x + 50,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\txscale: 3.5,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 25,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t}, {\r\n\t\t\t\tx: defender.x - 50,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\txscale: 3.5,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x + 35,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x - 35,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ty: defender.y,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 450,\r\n\t\t\t}, 'accel');\r\n\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x - 50,\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x - 50,\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ty: defender.y - 40,\r\n\t\t\t\tz: defender.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 450,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\ttime: 950,\r\n\t\t\t}, 'decel', 'fade');\r\n\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\txscale: 0.5,\r\n\t\t\t\tyscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 750,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\txscale: 4,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'decel', 'fade');\r\n\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x + 35,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 750,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x - 35,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1150,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 950,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tscale: 0.25,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1350,\r\n\t\t\t}, 'decel');\r\n\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 750,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 75,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 750,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 75,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'linear', 'fade');\r\n\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 15,\r\n\t\t\t\ttime: 75,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x - 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x + 15,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t\tdefender.anim({\r\n\t\t\t\tx: defender.x,\r\n\t\t\t\ttime: 100,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tschoolingin: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 600, 0.2);\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3.25,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.leftof(200),\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y + 50,\r\n\t\t\t\tz: attacker.behind(170),\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.behind(-250),\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.leftof(240),\r\n\t\t\t\ty: attacker.y - 80,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t},\r\n\t},\r\n\tschoolingout: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 600, 0.2);\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('waterwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3.25,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(200),\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(-140),\r\n\t\t\t\ty: attacker.y + 50,\r\n\t\t\t\tz: attacker.behind(170),\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.behind(-250),\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.leftof(240),\r\n\t\t\t\ty: attacker.y - 80,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'ballistic2Under');\r\n\t\t},\r\n\t},\r\n\tshadowpokemon: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#110131', 1000, 0.7, 300);\r\n\t\t\tscene.showEffect('shadowshadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('shadowwisp', {\r\n\t\t\t\tx: attacker.x + 40,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 130,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'accel', 'fade');\r\n\t\t\tscene.showEffect('shadowshadowball2', {\r\n\t\t\t\tx: attacker.x - 40,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 130,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'accel', 'fade');\r\n\t\t\tscene.showEffect('shadowshadowball2', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 130,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'accel', 'fade');\r\n\t\t\tscene.showEffect('shadowwisp', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 130,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'accel', 'fade');\r\n\t\t},\r\n\t},\r\n\tprimalalpha: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 500, 0.4);\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('alpha', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tprimalcerise: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#0000DD', 500, 0.4);\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('cerise', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tprimalcraftsman: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#E8C900', 500, 0.4);\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('craftsman', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tprimalteal: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#008080', 500, 0.4);\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('teal', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tprimalomega: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('linear-gradient(#390000 30%, #B84038)', 500, 0.4);\r\n\t\t\tscene.showEffect('flareball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('flareball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('omega', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tmegaevo: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#835BA5', 500, 0.6);\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('mistball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('rainbow', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tzpower: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('linear-gradient(#000000 20%, #0000DD)', 1800, 0.4);\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 60,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 60,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 70,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('zsymbol', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'decel', 'explode');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1400,\r\n\t\t\t}, 'accel');\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t\ttime: 1200,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 1600,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tpowerconstruct: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tlet xf = [1, -1, 1, -1];\r\n\t\t\tlet yf = [1, -1, -1, 1];\r\n\t\t\tlet xf2 = [1, 0, -1, 0];\r\n\t\t\tlet yf2 = [0, 1, 0, -1];\r\n\r\n\t\t\tscene.backgroundEffect('#000000', 1000, 0.7);\r\n\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\t\tx: attacker.x + 150 * xf[i],\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z + 70 * yf[i],\r\n\t\t\t\t\tscale: 0.1,\r\n\t\t\t\t\txscale: 0.5,\r\n\t\t\t\t\topacity: 0.4,\r\n\t\t\t\t}, {\r\n\t\t\t\t\tx: attacker.x,\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t\txscale: 0.8,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ttime: 500,\r\n\t\t\t\t}, 'decel', 'fade');\r\n\t\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\t\tx: attacker.x + 200 * xf2[i],\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z + 90 * yf2[i],\r\n\t\t\t\t\tscale: 0.1,\r\n\t\t\t\t\txscale: 0.5,\r\n\t\t\t\t\topacity: 0.4,\r\n\t\t\t\t}, {\r\n\t\t\t\t\tx: attacker.x,\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t\txscale: 0.8,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ttime: 500,\r\n\t\t\t\t}, 'decel', 'fade');\r\n\r\n\t\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\t\tx: attacker.x + 50 * xf[i],\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z + 100 * yf[i],\r\n\t\t\t\t\tscale: 0.1,\r\n\t\t\t\t\txscale: 0.5,\r\n\t\t\t\t\topacity: 0.4,\r\n\t\t\t\t\ttime: 200,\r\n\t\t\t\t}, {\r\n\t\t\t\t\tx: attacker.x,\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t\txscale: 0.8,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ttime: 500,\r\n\t\t\t\t}, 'decel', 'fade');\r\n\t\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\t\tx: attacker.x + 100 * xf2[i],\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z + 90 * yf2[i],\r\n\t\t\t\t\tscale: 0.1,\r\n\t\t\t\t\txscale: 0.5,\r\n\t\t\t\t\topacity: 0.4,\r\n\t\t\t\t\ttime: 200,\r\n\t\t\t\t}, {\r\n\t\t\t\t\tx: attacker.x,\r\n\t\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\t\tz: attacker.z,\r\n\t\t\t\t\tscale: 0.3,\r\n\t\t\t\t\txscale: 0.8,\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ttime: 500,\r\n\t\t\t\t}, 'decel', 'fade');\r\n\t\t\t}\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 50,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 3.5,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 350,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 25,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.6,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3.5,\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t},\r\n\t},\r\n\tultraburst: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#000000', 600, 0.5);\r\n\t\t\tscene.backgroundEffect('#ffffff', 500, 1, 550);\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 60,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x + 60,\r\n\t\t\t\ty: attacker.y - 5,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y + 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 250,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x - 70,\r\n\t\t\t\ty: attacker.y - 50,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.7,\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 4,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.25,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\t\t\tscene.showEffect('energyball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2.25,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'explode');\r\n\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 150,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 450,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 6,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('ultra', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 900,\r\n\t\t\t}, 'decel');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\txscale: 0.25,\r\n\t\t\t\tyscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\txscale: 6,\r\n\t\t\t\tyscale: 1,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear');\r\n\t\t\tscene.showEffect('iceball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 60,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\txscale: 0.25,\r\n\t\t\t\tyscale: 0.75,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\txscale: 6,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t}, 'linear');\r\n\t\t},\r\n\t},\r\n};\r\nconst BattleStatusAnims: AnimTable = {\r\n\tbrn: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('fireball', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y - 15,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 40,\r\n\t\t\t\ty: attacker.y + 15,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing', 'fade');\r\n\t\t},\r\n\t},\r\n\tpsn: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x + 30,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t\tscene.showEffect('poisonwisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'decel', 'fade');\r\n\t\t},\r\n\t},\r\n\tslp: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.behind(-50),\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tpar: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1.5,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\r\n\t\t\tattacker.delay(100);\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x + 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.x - 1,\r\n\t\t\t\ttime: 75,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'accel');\r\n\t\t},\r\n\t},\r\n\tfrz: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('icicle', {\r\n\t\t\t\tx: attacker.x - 30,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.9,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('icicle', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y - 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.9,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 650,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('icicle', {\r\n\t\t\t\tx: attacker.x + 15,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 0.9,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 700,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tflinch: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('shadowball', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 0.2,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 3,\r\n\t\t\t\topacity: 0.1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tattracted: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('heart', {\r\n\t\t\t\tx: attacker.x + 20,\r\n\t\t\t\ty: attacker.y + 20,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('heart', {\r\n\t\t\t\tx: attacker.x - 20,\r\n\t\t\t\ty: attacker.y + 10,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t\tscene.showEffect('heart', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y + 40,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.5,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 500,\r\n\t\t\t}, 'ballistic2Under', 'fade');\r\n\t\t},\r\n\t},\r\n\tcursed: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.backgroundEffect('#000000', 700, 0.2);\r\n\t\t\tattacker.delay(300);\r\n\t\t\tattacker.anim({x: attacker.x - 5, time: 50});\r\n\t\t\tattacker.anim({x: attacker.x + 5, time: 50});\r\n\t\t\tattacker.anim({x: attacker.x - 5, time: 50});\r\n\t\t\tattacker.anim({x: attacker.x + 5, time: 50});\r\n\t\t\tattacker.anim({x: attacker.x, time: 50});\r\n\r\n\t\t\tscene.showEffect(attacker.sp, {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\ttime: 0,\r\n\t\t\t}, {\r\n\t\t\t\tz: attacker.behind(20),\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'decel');\r\n\t\t},\r\n\t},\r\n\tconfused: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 50,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\tscale: 0.15,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 400,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 50,\r\n\t\t\t\tscale: 0.15,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x + 50,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t\tscene.showEffect('electroball', {\r\n\t\t\t\tx: attacker.x - 50,\r\n\t\t\t\ty: attacker.y + 30,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0.15,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttime: 600,\r\n\t\t\t}, {\r\n\t\t\t\tx: attacker.x + 50,\r\n\t\t\t\tscale: 0.4,\r\n\t\t\t\topacity: 0.4,\r\n\t\t\t\ttime: 800,\r\n\t\t\t}, 'linear', 'fade');\r\n\t\t},\r\n\t},\r\n\tconfusedselfhit: {\r\n\t\tanim(scene, [attacker]) {\r\n\t\t\tscene.showEffect('wisp', {\r\n\t\t\t\tx: attacker.x,\r\n\t\t\t\ty: attacker.y,\r\n\t\t\t\tz: attacker.z,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t}, {\r\n\t\t\t\tscale: 2,\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttime: 200,\r\n\t\t\t}, 'linear');\r\n\t\t\tattacker.delay(50);\r\n\t\t\tattacker.anim({\r\n\t\t\t\tx: attacker.leftof(2),\r\n\t\t\t\tz: attacker.behind(5),\r\n\t\t\t\ttime: 100,\r\n\t\t\t}, 'swing');\r\n\t\t\tattacker.anim({\r\n\t\t\t\ttime: 300,\r\n\t\t\t}, 'swing');\r\n\t\t},\r\n\t},\r\n};\r\nBattleStatusAnims['focuspunch'] = {anim: BattleStatusAnims['flinch'].anim};\r\n"],"file":"battle-animations.js"}